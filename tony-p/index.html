<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tony P Fan Zone ğŸ•</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap');

* { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --turquoise: #2dd4bf;
  --turquoise-dark: #14b8a6;
  --gold: #f59e0b;
  --pink: #ec4899;
  --slate: #475569;
  --dark: #0f172a;
  --card: #1e293b;
  --card-hover: #334155;
}

body {
  font-family: 'Inter', sans-serif;
  background: var(--dark);
  color: #f1f5f9;
  min-height: 100vh;
  overflow-x: hidden;
}

/* HEADER */
.header {
  text-align: center;
  padding: 3rem 1rem 2rem;
  background: linear-gradient(135deg, var(--dark) 0%, #1a2744 50%, var(--dark) 100%);
  border-bottom: 3px solid var(--turquoise);
  position: relative;
  overflow: hidden;
}
.header::before {
  content: '';
  position: absolute;
  top: -50%; left: -50%;
  width: 200%; height: 200%;
  background: radial-gradient(circle at 50% 50%, rgba(45,212,191,0.08) 0%, transparent 50%);
  animation: pulse 4s ease-in-out infinite;
}
@keyframes pulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.1)} }
.header h1 { font-size: 3rem; font-weight: 900; position: relative; }
.header h1 span { color: var(--turquoise); }
.header p { color: #94a3b8; font-size: 1.1rem; margin-top: 0.5rem; position: relative; }
.header .tagline { color: var(--gold); font-weight: 600; font-size: 1.2rem; margin-top: 0.25rem; position: relative; }

/* NAV */
.nav {
  display: flex; flex-wrap: wrap; justify-content: center; gap: 0.5rem;
  padding: 1.5rem 1rem;
  background: #1a2235;
  position: sticky; top: 0; z-index: 100;
  border-bottom: 1px solid #334155;
}
.nav button {
  padding: 0.6rem 1.2rem; border: 2px solid var(--turquoise); border-radius: 2rem;
  background: transparent; color: var(--turquoise); font-weight: 600; cursor: pointer;
  transition: all 0.2s; font-size: 0.9rem;
}
.nav button:hover, .nav button.active {
  background: var(--turquoise); color: var(--dark);
}

/* SECTIONS */
.game-section { display: none; padding: 2rem 1rem; max-width: 800px; margin: 0 auto; }
.game-section.active { display: block; }
.game-section h2 { font-size: 1.8rem; margin-bottom: 0.5rem; }
.game-section .subtitle { color: #94a3b8; margin-bottom: 1.5rem; }

/* CARDS / BUTTONS */
.card {
  background: var(--card); border-radius: 1rem; padding: 1.5rem;
  margin-bottom: 1rem; border: 1px solid #334155; transition: all 0.2s;
}
.card:hover { border-color: var(--turquoise); }

.btn {
  display: inline-block; padding: 0.75rem 1.5rem; border-radius: 2rem;
  background: var(--turquoise); color: var(--dark); font-weight: 700;
  border: none; cursor: pointer; font-size: 1rem; transition: all 0.2s;
}
.btn:hover { background: var(--turquoise-dark); transform: translateY(-1px); }
.btn-outline { background: transparent; border: 2px solid var(--turquoise); color: var(--turquoise); }
.btn-outline:hover { background: var(--turquoise); color: var(--dark); }
.btn-pink { background: var(--pink); }
.btn-pink:hover { background: #db2777; }
.btn-gold { background: var(--gold); color: var(--dark); }

/* TRIVIA */
.trivia-difficulty { display: flex; gap: 0.5rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
.trivia-q { font-size: 1.2rem; font-weight: 700; margin-bottom: 1rem; }
.trivia-options { display: grid; gap: 0.5rem; }
.trivia-opt {
  padding: 1rem; background: var(--card); border: 2px solid #475569;
  border-radius: 0.75rem; cursor: pointer; font-size: 1rem; text-align: left;
  transition: all 0.15s; color: #f1f5f9;
}
.trivia-opt:hover { border-color: var(--turquoise); background: #334155; }
.trivia-opt.correct { border-color: #22c55e; background: #14532d; }
.trivia-opt.wrong { border-color: #ef4444; background: #7f1d1d; }
.trivia-score { font-size: 1.5rem; font-weight: 700; color: var(--turquoise); }
.trivia-progress { height: 4px; background: #334155; border-radius: 2px; margin-bottom: 1.5rem; }
.trivia-progress-bar { height: 100%; background: var(--turquoise); border-radius: 2px; transition: width 0.3s; }

/* FIT CHECK */
.fit-item {
  display: flex; align-items: center; gap: 1rem; padding: 1rem;
  background: var(--card); border-radius: 0.75rem; margin-bottom: 0.75rem;
  border: 1px solid #334155;
}
.fit-era { font-weight: 700; color: var(--turquoise); min-width: 120px; }
.rating-stars { display: flex; gap: 0.25rem; font-size: 1.5rem; cursor: pointer; }
.rating-stars span { color: #475569; transition: color 0.15s; }
.rating-stars span.lit { color: var(--gold); }
.fit-result { text-align: center; margin-top: 1.5rem; font-size: 1.2rem; }

/* QUIZ */
.quiz-q { font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem; }
.quiz-opts { display: grid; gap: 0.5rem; margin-bottom: 0.5rem; }
.quiz-opt {
  padding: 0.85rem 1rem; background: var(--card); border: 2px solid #475569;
  border-radius: 0.75rem; cursor: pointer; transition: all 0.15s; color: #f1f5f9;
  text-align: left; font-size: 0.95rem;
}
.quiz-opt:hover { border-color: var(--pink); }
.quiz-opt.selected { border-color: var(--pink); background: #4a1942; }

/* CAPTION */
.caption-box {
  background: var(--card); border-radius: 1rem; padding: 2rem; text-align: center;
  border: 1px solid #334155; margin-bottom: 1rem;
}
.caption-context { font-size: 0.9rem; color: #94a3b8; margin-bottom: 0.75rem; }
.caption-input {
  width: 100%; padding: 0.85rem; border-radius: 0.75rem; border: 2px solid #475569;
  background: #0f172a; color: #f1f5f9; font-size: 1rem; margin-top: 1rem;
}
.caption-input:focus { outline: none; border-color: var(--turquoise); }
.caption-reveal { margin-top: 1rem; font-weight: 700; color: var(--gold); font-size: 1.1rem; }

/* SPANISH */
.spanish-card {
  background: var(--card); border-radius: 1rem; padding: 1.5rem; text-align: center;
  border: 1px solid #334155; margin-bottom: 1rem;
}
.spanish-phrase { font-size: 1.8rem; font-weight: 700; color: var(--gold); margin-bottom: 0.5rem; }
.spanish-context { color: #94a3b8; font-size: 0.9rem; margin-bottom: 1rem; }
.spanish-opts { display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; }
.spanish-opt {
  padding: 0.75rem; background: #0f172a; border: 2px solid #475569;
  border-radius: 0.75rem; cursor: pointer; transition: all 0.15s; color: #f1f5f9;
}
.spanish-opt:hover { border-color: var(--gold); }
.spanish-opt.correct { border-color: #22c55e; background: #14532d; }
.spanish-opt.wrong { border-color: #ef4444; background: #7f1d1d; }

/* HOME */
.home-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem; margin-top: 1.5rem; }
.home-card {
  background: var(--card); border-radius: 1rem; padding: 1.5rem; text-align: center;
  border: 2px solid #334155; cursor: pointer; transition: all 0.25s;
}
.home-card:hover { border-color: var(--turquoise); transform: translateY(-4px); }
.home-card .emoji { font-size: 2.5rem; margin-bottom: 0.5rem; }
.home-card h3 { font-size: 1.1rem; margin-bottom: 0.3rem; }
.home-card p { color: #94a3b8; font-size: 0.85rem; }

/* FOOTER */
.footer { text-align: center; padding: 2rem; color: #475569; font-size: 0.85rem; border-top: 1px solid #1e293b; margin-top: 2rem; }

/* RESPONSIVE */
@media (max-width: 600px) {
  .header h1 { font-size: 2rem; }
  .nav button { font-size: 0.8rem; padding: 0.5rem 0.8rem; }
  .spanish-opts { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<div class="header">
  <h1>ğŸ• <span>Tony P</span> Fan Zone</h1>
  <div class="tagline">Reasonably Positive</div>
  <p>The unofficial fan HQ for the nicest man on the internet</p>
</div>

<div class="nav">
  <button class="active" onclick="showSection('home')">ğŸ  Home</button>
  <button onclick="showSection('trivia')">ğŸ§  Trivia</button>
  <button onclick="showSection('fitcheck')">ğŸ‘” Fit Check</button>
  <button onclick="showSection('dating')">ğŸ’• Date Tony?</button>
  <button onclick="showSection('caption')">âœï¸ Captions</button>
  <button onclick="showSection('spanish')">ğŸ‡ªğŸ‡¸ Spanish</button>
</div>

<!-- HOME -->
<div id="home" class="game-section active">
  <h2>Welcome to the Fan Zone ğŸ•</h2>
  <p class="subtitle">5 games celebrating Tony P â€” bachelor, broadcaster, golden retriever in human form</p>
  <div class="home-grid">
    <div class="home-card" onclick="showSection('trivia')">
      <div class="emoji">ğŸ§ </div>
      <h3>Tony P Trivia</h3>
      <p>40 questions across 3 difficulty levels. How well do you know Tone?</p>
    </div>
    <div class="home-card" onclick="showSection('fitcheck')">
      <div class="emoji">ğŸ‘”</div>
      <h3>Fit Check Rater</h3>
      <p>Rate Tony's style eras. Quarter-zips required.</p>
    </div>
    <div class="home-card" onclick="showSection('dating')">
      <div class="emoji">ğŸ’•</div>
      <h3>Would Tony Date You?</h3>
      <p>15 questions to find out if you're Tony P compatible</p>
    </div>
    <div class="home-card" onclick="showSection('caption')">
      <div class="emoji">âœï¸</div>
      <h3>Guess the Caption</h3>
      <p>Can you finish Tony's captions? Think like Tone.</p>
    </div>
    <div class="home-card" onclick="showSection('spanish')">
      <div class="emoji">ğŸ‡ªğŸ‡¸</div>
      <h3>Spanish with Tony</h3>
      <p>Learn the phrases Tony's been studying. Â¡Vamos!</p>
    </div>
  </div>
  <div style="text-align:center; margin-top:2rem;">
    <div class="card" style="display:inline-block; max-width:500px;">
      <p style="font-size:0.95rem; color:#94a3b8;">Built with ğŸ’š by <a href="https://mvp-studio.onrender.com" style="color:var(--turquoise);">MVP Studio</a> â€” we build fan experiences for creators</p>
    </div>
  </div>
</div>

<!-- TRIVIA -->
<div id="trivia" class="game-section">
  <h2>ğŸ§  Tony P Trivia</h2>
  <p class="subtitle">Test your knowledge of the nicest man on the internet</p>
  <div class="trivia-difficulty">
    <button class="btn btn-outline" onclick="startTrivia('easy')">Easy (10)</button>
    <button class="btn btn-outline" onclick="startTrivia('medium')">Medium (10)</button>
    <button class="btn btn-outline" onclick="startTrivia('hard')">Hard (20)</button>
    <button class="btn" onclick="startTrivia('all')">All 40 ğŸ”¥</button>
  </div>
  <div id="trivia-area"></div>
</div>

<!-- FIT CHECK -->
<div id="fitcheck" class="game-section">
  <h2>ğŸ‘” Fit Check Rater</h2>
  <p class="subtitle">Rate Tony's signature looks across his style eras</p>
  <div id="fitcheck-area"></div>
</div>

<!-- DATING QUIZ -->
<div id="dating" class="game-section">
  <h2>ğŸ’• Would Tony Date You?</h2>
  <p class="subtitle">15 questions to find your Tony P compatibility score</p>
  <div id="dating-area"></div>
</div>

<!-- CAPTION -->
<div id="caption" class="game-section">
  <h2>âœï¸ Guess the Caption</h2>
  <p class="subtitle">Can you think like Tony P?</p>
  <div id="caption-area"></div>
</div>

<!-- SPANISH -->
<div id="spanish" class="game-section">
  <h2>ğŸ‡ªğŸ‡¸ Spanish with Tony</h2>
  <p class="subtitle">Learn alongside Tone â€” from Duolingo to Bad Bunny</p>
  <div id="spanish-area"></div>
</div>

<div class="footer">
  <p>Tony P Fan Zone â€” not affiliated with Tony P or his management</p>
  <p style="margin-top:0.25rem;">Fan project by <a href="https://mvp-studio.onrender.com" style="color:var(--turquoise)">MVP Studio</a></p>
</div>

<script>
// NAV
function showSection(id) {
  document.querySelectorAll('.game-section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav button').forEach(b => b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.nav button').forEach(b => {
    if (b.textContent.toLowerCase().includes(id === 'home' ? 'home' : id === 'trivia' ? 'trivia' : id === 'fitcheck' ? 'fit' : id === 'dating' ? 'date' : id === 'caption' ? 'caption' : 'spanish')) b.classList.add('active');
  });
  window.scrollTo({top: 0, behavior: 'smooth'});
  if (id === 'fitcheck') initFitCheck();
  if (id === 'dating') initDating();
  if (id === 'caption') initCaption();
  if (id === 'spanish') initSpanish();
}

// ============ TRIVIA ============
const triviaData = {
  easy: [
    {q:"What city does Tony P live in?", opts:["New York","D.C.","Los Angeles","Boston"], a:1},
    {q:"Where is Tony originally from?", opts:["New York","Philadelphia","Boston","Miami"], a:2},
    {q:"What is Tony's brand name?", opts:["Vibing Only","Reasonably Positive","Good Vibes Guy","Stay Golden"], a:1},
    {q:"Approximately how many Instagram followers does Tony have?", opts:["50K","186K","500K","1M"], a:1},
    {q:"What do fans call Tony for short?", opts:["TP","Tone","T-Money","Antonio"], a:1},
    {q:"What is Tony's ethnicity?", opts:["Irish","Italian","Greek","Portuguese"], a:1},
    {q:"What is Tony's current relationship status (2026)?", opts:["Single","It's complicated","Taken","Married"], a:2},
    {q:"What language is Tony learning?", opts:["French","Japanese","Spanish","Italian"], a:2},
    {q:"Which artist does Tony love listening to?", opts:["Drake","Bad Bunny","Taylor Swift","The Weeknd"], a:1},
    {q:"What app does Tony use to learn languages?", opts:["Babbel","Rosetta Stone","Duolingo","Memrise"], a:2},
  ],
  medium: [
    {q:"What was Tony's career before becoming a creator?", opts:["Investment banker","Management consultant","Software engineer","Teacher"], a:1},
    {q:"Which TV host does Tony aspire to be like?", opts:["Jimmy Fallon","Ryan Seacrest","James Corden","Jimmy Kimmel"], a:1},
    {q:"Tony appeared on which local news channel?", opts:["ABC","NBC","CBS","Fox News"], a:3},
    {q:"What term does Tony use for positive masculinity?", opts:["Sigma grindset","Vibrant masculinity","Soft king energy","New age man"], a:1},
    {q:"Tony endorsed which presidential candidate?", opts:["Trump","Biden","Kamala Harris","RFK Jr"], a:2},
    {q:"Which Barstool show has Tony appeared on?", opts:["Pardon My Take","The Yak","Spittin' Chiclets","KFC Radio"], a:1},
    {q:"What animal meme is associated with Tony's comment section?", opts:["Dawg","Hog","Goat","Bear"], a:1},
    {q:"What surprising fact about Tony relates to alcohol?", opts:["He's a sommelier","He brews beer","He doesn't actually drink","He only drinks wine"], a:2},
    {q:"What song is on Tony's pinned Instagram post?", opts:["Mr. Brightside","You Get What You Give","Don't Stop Believin'","September"], a:1},
    {q:"What's the 'Tony P and the P stands for ___' format?", opts:["A quiz question","A meme his fans do","His merch slogan","A podcast segment"], a:1},
  ],
  hard: [
    {q:"What is Tony's TikTok bio?", opts:["Reasonably positive since '97","A golden retriever taking you for a walk","Your internet best friend","The nicest guy in D.C."], a:1},
    {q:"What did Tony drink with the Slate reporter during his interview?", opts:["Craft beer","Espresso martini","Diet Coke","Sparkling water"], a:2},
    {q:"What personal struggle has Tony's mother overcome?", opts:["Cancer","Opioid recovery","Divorce","Job loss"], a:1},
    {q:"Who manages Tony on Instagram?", opts:["UTA","CLR Management","Motive LA","CAA"], a:2},
    {q:"Who manages Tony on TikTok?", opts:["Motive LA","CLR Management","Night Media","Underscore Talent"], a:1},
    {q:"What iconic quarter-zip color is Tony known for?", opts:["Navy","Charcoal","Turquoise","Burgundy"], a:2},
    {q:"Which publication called Tony 'possibly the nicest man on the internet'?", opts:["The Atlantic","BuzzFeed","Slate","Vox"], a:2},
    {q:"What copypasta did fans adapt for Tony's comments?", opts:["Navy Seal","American Psycho","Bee Movie","Shrek"], a:1},
    {q:"What is Tony's full name?", opts:["Anthony Palazzo","Anthony Polcari","Anthony Pellegrino","Anthony Picasso"], a:1},
    {q:"How old is Tony approximately?", opts:["24","27-28","31","34"], a:1},
    {q:"What comment got the most likes on Tony's posts (~3,335)?", opts:["HELL YEAH BUTTON","Someone's wife is about to have the night of her life","Day X of asking what bachelor means","The P stands for Perfect"], a:1},
    {q:"The 'HELL YEAH BUTTON' comment got approximately how many likes?", opts:["500","1,310","2,800","5,000"], a:1},
    {q:"What recurring comment asks Tony about his relationship status?", opts:["When's the hard launch?","Does she know she's your girlfriend, Tone?","Who is she??","Day X of asking Tone if he understands what bachelor means"], a:3},
    {q:"What did Tony's follower count reportedly peak at?", opts:["150K","186K","200K+","300K"], a:2},
    {q:"What type of content does 'Taken Bachelor' represent?", opts:["His merch line","His new content era about being in a relationship","A podcast","A YouTube series"], a:1},
    {q:"What is Tony's signature dish he makes on date nights?", opts:["Pasta carbonara","Salmon with balsamic glaze","Steak and potatoes","Chicken parm"], a:1},
    {q:"What phrase do fans use to describe a rare bad Tony take?", opts:["Massive L","Common L / Rare W format","Cringe alert","Not reasonably positive"], a:1},
    {q:"One fan comment said: 'I followed for the ___ but now I'm just an actual fan'", opts:["Comedy","Satire","Fit checks","Cringe"], a:1},
    {q:"What is Tony's 'fill in the blank' caption format?", opts:["Day in my life as a ___","Welcome to a ___ in my life as a ___-year-old ___","POV: you're dating ___","Reasons why ___ is the best city"], a:1},
    {q:"Tony's style era when he was doing Fox News is called?", opts:["Corporate Tone","Bachelor Tone","Broadcasting Tone","Taken Tone"], a:2},
  ]
};

let triviaState = {};

function startTrivia(diff) {
  let qs = [];
  if (diff === 'all') qs = [...triviaData.easy, ...triviaData.medium, ...triviaData.hard];
  else qs = [...triviaData[diff]];
  // Shuffle
  for (let i = qs.length - 1; i > 0; i--) { const j = Math.floor(Math.random()*(i+1)); [qs[i],qs[j]]=[qs[j],qs[i]]; }
  triviaState = { qs, idx: 0, score: 0, answered: false };
  renderTrivia();
}

function renderTrivia() {
  const {qs, idx, score} = triviaState;
  const area = document.getElementById('trivia-area');
  if (idx >= qs.length) {
    const pct = Math.round(score/qs.length*100);
    let msg = pct >= 90 ? "You ARE Tony P ğŸ•" : pct >= 70 ? "Certified Tone Fan ğŸ”¥" : pct >= 50 ? "Casual follower vibes ğŸ‘€" : "Do you even follow Tony? ğŸ˜…";
    area.innerHTML = `<div class="card" style="text-align:center;">
      <div class="trivia-score">${score}/${qs.length} (${pct}%)</div>
      <p style="font-size:1.3rem; margin:1rem 0;">${msg}</p>
      <button class="btn" onclick="startTrivia('all')">Play Again</button>
    </div>`;
    return;
  }
  const q = qs[idx];
  area.innerHTML = `
    <div class="trivia-progress"><div class="trivia-progress-bar" style="width:${(idx/qs.length)*100}%"></div></div>
    <p style="color:#94a3b8; margin-bottom:0.5rem;">Question ${idx+1} of ${qs.length} Â· Score: ${score}</p>
    <div class="trivia-q">${q.q}</div>
    <div class="trivia-options">
      ${q.opts.map((o,i) => `<button class="trivia-opt" onclick="answerTrivia(${i})">${o}</button>`).join('')}
    </div>`;
}

function answerTrivia(i) {
  if (triviaState.answered) return;
  triviaState.answered = true;
  const q = triviaState.qs[triviaState.idx];
  const btns = document.querySelectorAll('.trivia-opt');
  btns[q.a].classList.add('correct');
  if (i === q.a) { triviaState.score++; }
  else { btns[i].classList.add('wrong'); }
  btns.forEach(b => b.style.pointerEvents = 'none');
  setTimeout(() => { triviaState.idx++; triviaState.answered = false; renderTrivia(); }, 1200);
}

// ============ FIT CHECK ============
const fitData = [
  {era:"Corporate Tone", year:"2023", desc:"Suits, ties, office catalog energy. Management consultant drip.", items:["Navy suit + striped tie","Khaki chinos + oxford shirt","Charcoal blazer + pocket square","Corporate headshot fit"]},
  {era:"Bachelor Tone", year:"2024", desc:"Fit checks, aviators, date-ready looks. Peak single Tony.", items:["Turquoise quarter-zip (ICONIC)","Aviator sunglasses + henley","Date night button-down","Gym-to-brunch athleisure"]},
  {era:"Broadcasting Tone", year:"2025", desc:"Fox News suits, interview-ready. Professional glow-up.", items:["Slate-blue TV suit","Secret Service shades","Charcoal half-zip studio look","Tie-less blazer combo"]},
  {era:"Taken Tone", year:"2026", desc:"Date night casual, quarter-zips forever. Relationship era.", items:["Date night quarter-zip","Couple's brunch fit","Cooking apron over henley","Travel casual (Coliseum pics)"]},
];
let fitRatings = {};

function initFitCheck() {
  const area = document.getElementById('fitcheck-area');
  fitRatings = {};
  let html = '';
  fitData.forEach((era, ei) => {
    html += `<div class="card"><h3 style="color:var(--turquoise)">${era.era} <span style="color:#94a3b8">(${era.year})</span></h3>
    <p style="color:#94a3b8; margin:0.5rem 0;">${era.desc}</p>`;
    era.items.forEach((item, ii) => {
      const key = `${ei}-${ii}`;
      html += `<div class="fit-item"><span style="flex:1">${item}</span>
        <div class="rating-stars" id="stars-${key}">
          ${[1,2,3,4,5].map(s => `<span onclick="rateFit('${key}',${s})">â˜…</span>`).join('')}
        </div></div>`;
    });
    html += `</div>`;
  });
  html += `<div style="text-align:center; margin-top:1rem;"><button class="btn" onclick="fitResults()">Get My Style Match</button></div>`;
  html += `<div id="fit-result"></div>`;
  area.innerHTML = html;
}

function rateFit(key, stars) {
  fitRatings[key] = stars;
  const el = document.getElementById('stars-'+key);
  el.querySelectorAll('span').forEach((s,i) => s.classList.toggle('lit', i < stars));
}

function fitResults() {
  const keys = Object.keys(fitRatings);
  if (keys.length < 4) { document.getElementById('fit-result').innerHTML = '<p style="text-align:center; color:var(--pink); margin-top:1rem;">Rate at least 4 items first!</p>'; return; }
  const eraScores = [0,0,0,0], eraCounts = [0,0,0,0];
  keys.forEach(k => { const ei = parseInt(k.split('-')[0]); eraScores[ei] += fitRatings[k]; eraCounts[ei]++; });
  const avgs = eraScores.map((s,i) => eraCounts[i] ? s/eraCounts[i] : 0);
  const best = avgs.indexOf(Math.max(...avgs));
  const msgs = ["You love Corporate Tone â€” power suits and boardroom energy! ğŸ’¼","Bachelor Tone is your vibe â€” turquoise quarter-zips and main character energy! ğŸ•","Broadcasting Tone speaks to you â€” camera-ready, always polished! ğŸ“º","Taken Tone is your era â€” cozy, confident, date-night ready! ğŸ’•"];
  document.getElementById('fit-result').innerHTML = `<div class="card" style="text-align:center; margin-top:1rem;"><p style="font-size:1.2rem; font-weight:700; color:var(--gold);">${msgs[best]}</p></div>`;
}

// ============ DATING QUIZ ============
const datingQs = [
  {q:"It's Friday night. What are you doing?", opts:["Clubbing til 3 AM","Cooking dinner at home","Binge-watching alone","Game night with friends"], scores:[0,3,1,2]},
  {q:"Pick a drink:", opts:["Vodka soda","Diet Coke","Craft IPA","Matcha latte"], scores:[0,3,1,2]},
  {q:"How do you handle conflict?", opts:["Yell it out","Talk it through calmly","Avoid it completely","Post a vague tweet"], scores:[0,3,1,0]},
  {q:"Your ideal date activity?", opts:["Fancy restaurant","Cooking together at home","Netflix and takeout","Adventure / outdoors"], scores:[1,3,2,2]},
  {q:"What's your take on therapy?", opts:["Everyone should try it","It's for weak people","Never thought about it","I've been, it helped"], scores:[3,0,1,3]},
  {q:"Describe your style:", opts:["Athleisure always","Quarter-zips and clean fits","Streetwear / hype","Whatever's clean"], scores:[1,3,1,0]},
  {q:"How do you feel about vulnerability?", opts:["Strength, not weakness","Uncomfortable but necessary","I'm an open book","What does that mean?"], scores:[3,2,3,0]},
  {q:"Pick a love language:", opts:["Words of affirmation","Quality time","Physical touch","Acts of service"], scores:[2,3,2,2]},
  {q:"Your opinion on social media:", opts:["I barely use it","It's a tool for connection","I post everything","Toxic but addictive"], scores:[1,3,0,1]},
  {q:"What's your cooking level?", opts:["Can't boil water","Basics â€” eggs, pasta","I can follow a recipe","Salt, pepper, fresh garlic is my mantra"], scores:[0,1,2,3]},
  {q:"How important is family?", opts:["Everything","Very important","It's complicated","Not really my thing"], scores:[3,3,2,0]},
  {q:"Pick a language to learn:", opts:["French","Spanish","Japanese","None, English is fine"], scores:[1,3,1,0]},
  {q:"Your take on masculinity?", opts:["Traditional / alpha","Be yourself, be kind","Don't think about it","It's a spectrum"], scores:[0,3,1,2]},
  {q:"What animal are you?", opts:["Wolf","Golden retriever","Cat","Hawk"], scores:[0,3,1,0]},
  {q:"What's your morning routine?", opts:["Snooze 5 times","Gym, shower, go","Coffee and Duolingo","Check my phone for an hour"], scores:[0,2,3,1]},
];
let datingState = {};

function initDating() {
  datingState = { idx: 0, score: 0 };
  renderDating();
}

function renderDating() {
  const {idx, score} = datingState;
  const area = document.getElementById('dating-area');
  if (idx >= datingQs.length) {
    const max = datingQs.length * 3;
    const pct = Math.round(score/max*100);
    let result, color;
    if (pct >= 85) { result = "ğŸ• You ARE Tony P's soulmate. Start planning the wedding."; color = "var(--turquoise)"; }
    else if (pct >= 65) { result = "ğŸ’š Strong match! Tony would definitely swipe right."; color = "var(--turquoise)"; }
    else if (pct >= 45) { result = "ğŸ‘€ Friend zone â€” you'd be great buddies though."; color = "var(--gold)"; }
    else if (pct >= 25) { result = "ğŸ˜¬ Not quite. Maybe watch more of his content?"; color = "var(--pink)"; }
    else { result = "ğŸš« You're an Andrew Tate fan and you're in the wrong app."; color = "var(--pink)"; }
    area.innerHTML = `<div class="card" style="text-align:center;">
      <div style="font-size:2rem; font-weight:900; color:${color};">${pct}% Compatible</div>
      <p style="font-size:1.2rem; margin:1rem 0;">${result}</p>
      <button class="btn btn-pink" onclick="initDating()">Try Again</button>
    </div>`;
    return;
  }
  const q = datingQs[idx];
  area.innerHTML = `
    <div class="trivia-progress"><div class="trivia-progress-bar" style="width:${(idx/datingQs.length)*100}%; background:var(--pink);"></div></div>
    <p style="color:#94a3b8;">Question ${idx+1} of ${datingQs.length}</p>
    <div class="quiz-q">${q.q}</div>
    <div class="quiz-opts">
      ${q.opts.map((o,i) => `<button class="quiz-opt" onclick="answerDating(${i})">${o}</button>`).join('')}
    </div>`;
}

function answerDating(i) {
  const q = datingQs[datingState.idx];
  datingState.score += q.scores[i];
  datingState.idx++;
  renderDating();
}

// ============ CAPTION ============
const captions = [
  {context: "Tony posts a video of his morning routine in D.C.", answer: "Welcome to a Monday in my life as a 28-year-old taken bachelor in Washington, D.C."},
  {context: "Tony cooking salmon for date night", answer: "Date night dinner: salmon with a balsamic glaze. Salt, pepper, fresh garlic. Keep it simple."},
  {context: "Tony doing a fit check in a turquoise quarter-zip", answer: "Fit check. Rate 1-10. Be honest, I can take it."},
  {context: "Tony at the Coliseum in Rome", answer: "Reasonably positive about this view."},
  {context: "Tony after his Fox News appearance", answer: "Mom I'm on TV."},
  {context: "Tony reflecting on his journey from corporate to creator", answer: "Quit my consulting job a year ago. Best decision I ever made. Bet on yourself."},
  {context: "Tony on the morning of Super Bowl Sunday", answer: "Super Bowl Sunday as a taken bachelor hits different."},
  {context: "Tony posting about learning Spanish on Duolingo", answer: "Day 47 of Duolingo. My Spanish isâ€¦ razonablemente positivo."},
  {context: "Tony responding to the 'bachelor' comments", answer: "For the last time â€” I KNOW what bachelor means. I'm redefining it."},
  {context: "Tony's most vulnerable post about mental health", answer: "Therapy isn't weak. Talking about your feelings isn't weak. You know what's weak? Pretending you're fine when you're not."},
  {context: "Tony posting a gym selfie", answer: "Reasonably positive about this pump."},
  {context: "Tony at a Wizards game in D.C.", answer: "Taken bachelor at the game. She said I could go."},
];
let captionState = {};

function initCaption() {
  captionState = { idx: 0, score: 0 };
  renderCaption();
}

function renderCaption() {
  const {idx, score} = captionState;
  const area = document.getElementById('caption-area');
  if (idx >= captions.length) {
    area.innerHTML = `<div class="card" style="text-align:center;">
      <div class="trivia-score">${score}/${captions.length} close matches</div>
      <p style="margin:1rem 0;">${score >= 8 ? "You think EXACTLY like Tony ğŸ•" : score >= 5 ? "Solid Tony energy! ğŸ”¥" : "Tony would not approve ğŸ˜…"}</p>
      <button class="btn btn-gold" onclick="initCaption()">Play Again</button>
    </div>`;
    return;
  }
  const c = captions[idx];
  area.innerHTML = `
    <div class="trivia-progress"><div class="trivia-progress-bar" style="width:${(idx/captions.length)*100}%; background:var(--gold);"></div></div>
    <p style="color:#94a3b8;">Caption ${idx+1} of ${captions.length}</p>
    <div class="caption-box">
      <div class="caption-context">ğŸ“¸ ${c.context}</div>
      <p style="font-weight:600;">What would Tony caption this?</p>
      <input class="caption-input" id="caption-input" placeholder="Type your caption..." onkeydown="if(event.key==='Enter')revealCaption()">
    </div>
    <div style="text-align:center;"><button class="btn btn-gold" onclick="revealCaption()">Reveal Tony's Caption</button></div>
    <div id="caption-reveal"></div>`;
  setTimeout(() => document.getElementById('caption-input')?.focus(), 100);
}

function revealCaption() {
  const c = captions[captionState.idx];
  const input = document.getElementById('caption-input').value.toLowerCase();
  const answer = c.answer.toLowerCase();
  // Simple match: check if 3+ words overlap
  const inputWords = new Set(input.split(/\s+/).filter(w => w.length > 3));
  const answerWords = new Set(answer.split(/\s+/).filter(w => w.length > 3));
  let matches = 0;
  inputWords.forEach(w => { if (answerWords.has(w)) matches++; });
  const close = matches >= 3;
  if (close) captionState.score++;
  document.getElementById('caption-reveal').innerHTML = `
    <div class="card" style="text-align:center; margin-top:1rem;">
      <p style="font-weight:700; color:${close ? 'var(--turquoise)' : 'var(--pink)'};">${close ? 'ğŸ¯ Close match!' : 'ğŸ˜… Not quite!'}</p>
      <p class="caption-reveal">Tony's actual caption:<br>"${c.answer}"</p>
      <button class="btn" style="margin-top:1rem;" onclick="captionState.idx++; renderCaption();">Next â†’</button>
    </div>`;
}

// ============ SPANISH ============
const spanishData = [
  {phrase:"Soltero comprometido", context:"Tony's 'taken bachelor' brand in Spanish", opts:["Single forever","Committed bachelor","Happy single","Dating around"], a:1},
  {phrase:"Noche de cita", context:"What Tony calls his cooking content nights", opts:["Night out","Date night","Movie night","Boys' night"], a:1},
  {phrase:"Razonablemente positivo", context:"Tony's brand translated", opts:["Really positive","Kind of positive","Reasonably positive","Always positive"], a:2},
  {phrase:"SalmÃ³n con glaseado balsÃ¡mico", context:"Tony's signature date night dish", opts:["Salmon with lemon","Salmon with balsamic glaze","Grilled salmon","Salmon pasta"], a:1},
  {phrase:"Perro dorado", context:"What Tony's fans call him (translated)", opts:["Good boy","Party animal","Golden retriever","Loyal friend"], a:2},
  {phrase:"Buenos dÃ­as", context:"Tony's morning routine posts", opts:["Good night","Good morning","Good afternoon","Goodbye"], a:1},
  {phrase:"Me encanta cocinar", context:"Tony talking about his passion", opts:["I love dancing","I love cooking","I love running","I love singing"], a:1},
  {phrase:"Salud mental", context:"A topic Tony talks about openly", opts:["Physical health","Mental health","Heart health","Public health"], a:1},
  {phrase:"Terapia", context:"Tony openly advocates for this", opts:["Meditation","Exercise","Therapy","Journaling"], a:2},
  {phrase:"Apuesta por ti mismo", context:"Tony's career advice translated", opts:["Bet on yourself","Trust the process","Follow your heart","Dream big"], a:0},
  {phrase:"La vida es bella", context:"Tony's general outlook", opts:["Life is short","Life is hard","Life is beautiful","Life is a game"], a:2},
  {phrase:"Ajo fresco", context:"Tony's essential cooking ingredient", opts:["Fresh onion","Fresh garlic","Fresh herbs","Fresh pepper"], a:1},
  {phrase:"Tengo una novia", context:"Tony's relationship status update", opts:["I have a job","I have a dog","I have a girlfriend","I have plans"], a:2},
  {phrase:"Sal y pimienta", context:"Tony's cooking basics", opts:["Oil and vinegar","Salt and pepper","Bread and butter","Sugar and spice"], a:1},
  {phrase:"Soy presentador", context:"Tony's dream career", opts:["I'm a chef","I'm a broadcaster","I'm a model","I'm a teacher"], a:1},
  {phrase:"Mi madre es fuerte", context:"Tony talking about his family", opts:["My mom is kind","My mom is funny","My mom is strong","My mom is smart"], a:2},
  {phrase:"Dilo con cariÃ±o", context:"Tony's communication style", opts:["Say it loud","Say it with love","Say it fast","Say it once"], a:1},
  {phrase:"Â¡Vamos!", context:"Tony hyping himself up", opts:["Goodbye!","Let's go!","Help me!","Watch out!"], a:1},
  {phrase:"Lo mejor estÃ¡ por venir", context:"Tony's optimistic outlook", opts:["The worst is over","The best is yet to come","Everything happens for a reason","Time heals all"], a:1},
  {phrase:"Caballero moderno", context:"What Tony represents", opts:["Modern gentleman","Old school guy","Young professional","Cool dude"], a:0},
];
let spanishState = {};

function initSpanish() {
  spanishState = { idx: 0, score: 0, answered: false };
  renderSpanish();
}

function renderSpanish() {
  const {idx, score} = spanishState;
  const area = document.getElementById('spanish-area');
  if (idx >= spanishData.length) {
    const pct = Math.round(score/spanishData.length*100);
    let msg = pct >= 90 ? "Â¡Perfecto! Tony would be impressed ğŸ‡ªğŸ‡¸" : pct >= 60 ? "Â¡Muy bien! Keep studying with Tone ğŸ“š" : pct >= 30 ? "Necesitas mÃ¡s Duolingo ğŸ¦‰" : "Tony's Duolingo owl is coming for you ğŸ’€";
    area.innerHTML = `<div class="card" style="text-align:center;">
      <div class="trivia-score">${score}/${spanishData.length} (${pct}%)</div>
      <p style="font-size:1.2rem; margin:1rem 0;">${msg}</p>
      <button class="btn btn-gold" onclick="initSpanish()">Â¡Otra vez!</button>
    </div>`;
    return;
  }
  const s = spanishData[idx];
  area.innerHTML = `
    <div class="trivia-progress"><div class="trivia-progress-bar" style="width:${(idx/spanishData.length)*100}%; background:var(--gold);"></div></div>
    <p style="color:#94a3b8;">Phrase ${idx+1} of ${spanishData.length} Â· Score: ${score}</p>
    <div class="spanish-card">
      <div class="spanish-phrase">${s.phrase}</div>
      <div class="spanish-context">${s.context}</div>
      <div class="spanish-opts">
        ${s.opts.map((o,i) => `<button class="spanish-opt" onclick="answerSpanish(${i})">${o}</button>`).join('')}
      </div>
    </div>`;
}

function answerSpanish(i) {
  if (spanishState.answered) return;
  spanishState.answered = true;
  const s = spanishData[spanishState.idx];
  const btns = document.querySelectorAll('.spanish-opt');
  btns[s.a].classList.add('correct');
  if (i === s.a) spanishState.score++;
  else btns[i].classList.add('wrong');
  btns.forEach(b => b.style.pointerEvents = 'none');
  setTimeout(() => { spanishState.idx++; spanishState.answered = false; renderSpanish(); }, 1000);
}
</script>
</body>
</html>
