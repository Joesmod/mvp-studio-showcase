<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A/B Test Calculator</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',sans-serif;background:#0a0a0f;color:#e0e0e0;min-height:100vh;padding:20px}
.container{max-width:900px;margin:0 auto}
header{text-align:center;padding:40px 0 30px}
header h1{font-size:2rem;font-weight:800;background:linear-gradient(135deg,#6366f1,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
header p{color:#888;margin-top:8px;font-size:.95rem}
.inputs{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-bottom:32px}
.variant-card{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:24px}
.variant-card h3{font-size:1.1rem;font-weight:700;margin-bottom:16px;display:flex;align-items:center;gap:8px}
.variant-card h3 .dot{width:12px;height:12px;border-radius:50%}
.dot-a{background:#6366f1}.dot-b{background:#a855f7}
label{display:block;font-size:.85rem;color:#888;margin-bottom:6px;margin-top:14px}
input{width:100%;padding:12px 16px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:10px;color:#fff;font-family:'Inter',sans-serif;font-size:1rem;outline:none;transition:border .2s}
input:focus{border-color:#6366f1}
.btn{display:block;width:100%;padding:14px;background:linear-gradient(135deg,#6366f1,#a855f7);color:#fff;border:none;border-radius:12px;font-family:'Inter',sans-serif;font-size:1rem;font-weight:700;cursor:pointer;transition:transform .2s,box-shadow .2s;margin-bottom:32px}
.btn:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(99,102,241,.3)}
.results{display:none}
.verdict-box{text-align:center;padding:32px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:16px;margin-bottom:24px}
.verdict-box .icon{font-size:3rem;margin-bottom:12px}
.verdict-box h2{font-size:1.5rem;font-weight:800;margin-bottom:8px}
.verdict-box .lift{font-size:1.1rem;color:#a78bfa}
.verdict-box .sig{margin-top:12px;font-size:.9rem;color:#888}
.stats-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;margin-bottom:24px}
.stat{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:20px;text-align:center}
.stat .val{font-size:1.6rem;font-weight:800;margin-bottom:4px}
.stat .lbl{font-size:.8rem;color:#888;text-transform:uppercase;letter-spacing:.5px}
.chart-area{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:24px}
.chart-area h3{font-size:1rem;font-weight:700;margin-bottom:20px}
.bar-row{display:flex;align-items:center;gap:12px;margin-bottom:16px}
.bar-label{width:80px;font-size:.9rem;font-weight:600}
.bar-track{flex:1;height:36px;background:rgba(255,255,255,.06);border-radius:8px;overflow:hidden;position:relative}
.bar-fill{height:100%;border-radius:8px;transition:width .8s ease;display:flex;align-items:center;justify-content:flex-end;padding-right:12px;font-size:.85rem;font-weight:700}
.bar-a{background:linear-gradient(90deg,#6366f1,#818cf8)}.bar-b{background:linear-gradient(90deg,#a855f7,#c084fc)}
.confidence-badges{display:flex;gap:12px;justify-content:center;margin-top:16px;flex-wrap:wrap}
.badge{padding:8px 16px;border-radius:20px;font-size:.85rem;font-weight:600;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1)}
.badge.pass{background:rgba(34,197,94,.15);border-color:rgba(34,197,94,.3);color:#4ade80}
.badge.fail{background:rgba(239,68,68,.1);border-color:rgba(239,68,68,.2);color:#f87171}
.back{display:inline-block;margin-bottom:20px;color:#6366f1;text-decoration:none;font-size:.9rem;font-weight:600}
.back:hover{text-decoration:underline}
@media(max-width:640px){.inputs{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="container">
<a href="../" class="back">‚Üê Back to Showcase</a>
<header>
<h1>A/B Test Calculator</h1>
<p>Calculate statistical significance between two variants</p>
</header>
<div class="inputs">
<div class="variant-card">
<h3><span class="dot dot-a"></span> Variant A (Control)</h3>
<label>Visitors</label>
<input type="number" id="visitorsA" placeholder="e.g. 5000" value="5000">
<label>Conversions</label>
<input type="number" id="conversionsA" placeholder="e.g. 200" value="200">
</div>
<div class="variant-card">
<h3><span class="dot dot-b"></span> Variant B (Test)</h3>
<label>Visitors</label>
<input type="number" id="visitorsB" placeholder="e.g. 5000" value="5000">
<label>Conversions</label>
<input type="number" id="conversionsB" placeholder="e.g. 250" value="250">
</div>
</div>
<button class="btn" onclick="calculate()">Calculate Significance</button>
<div class="results" id="results">
<div class="verdict-box" id="verdict"></div>
<div class="stats-row" id="stats"></div>
<div class="chart-area">
<h3>Conversion Rate Comparison</h3>
<div id="chart"></div>
</div>
</div>
</div>
<script>
function normalCDF(x){const a1=.254829592,a2=-.284496736,a3=1.421413741,a4=-1.453152027,a5=1.061405429,p=.3275911;const sign=x<0?-1:1;x=Math.abs(x)/Math.sqrt(2);const t=1/(1+p*x);const y=1-((((a5*t+a4)*t+a3)*t+a2)*t+a1)*t*Math.exp(-x*x);return .5*(1+sign*y)}
function calculate(){
const nA=+document.getElementById('visitorsA').value;
const cA=+document.getElementById('conversionsA').value;
const nB=+document.getElementById('visitorsB').value;
const cB=+document.getElementById('conversionsB').value;
if(!nA||!nB||nA<=0||nB<=0){alert('Enter valid visitor counts');return}
const pA=cA/nA,pB=cB/nB;
const pPool=(cA+cB)/(nA+nB);
const se=Math.sqrt(pPool*(1-pPool)*(1/nA+1/nB));
const z=se===0?0:(pB-pA)/se;
const pVal=2*(1-normalCDF(Math.abs(z)));
const lift=pA===0?0:((pB-pA)/pA)*100;
const sig90=pVal<.10,sig95=pVal<.05,sig99=pVal<.01;
const winner=pB>pA?'B':'A';
const isDraw=Math.abs(lift)<0.1;
const v=document.getElementById('verdict');
if(isDraw){
v.innerHTML=`<div class="icon">ü§ù</div><h2>No Clear Winner</h2><p class="lift">Both variants perform similarly</p><p class="sig">p-value: ${pVal.toFixed(4)}</p><div class="confidence-badges"><span class="badge ${sig90?'pass':'fail'}">90% ${sig90?'‚úì':'‚úó'}</span><span class="badge ${sig95?'pass':'fail'}">95% ${sig95?'‚úì':'‚úó'}</span><span class="badge ${sig99?'pass':'fail'}">99% ${sig99?'‚úì':'‚úó'}</span></div>`;
}else{
v.innerHTML=`<div class="icon">${sig95?'üèÜ':'ü§î'}</div><h2>${sig95?`Variant ${winner} Wins!`:'Not Yet Significant'}</h2><p class="lift">${lift>0?'+':''}${lift.toFixed(2)}% lift ${lift>0?'for B':'for A'}</p><p class="sig">p-value: ${pVal.toFixed(4)} | z-score: ${z.toFixed(3)}</p><div class="confidence-badges"><span class="badge ${sig90?'pass':'fail'}">90% ${sig90?'‚úì':'‚úó'}</span><span class="badge ${sig95?'pass':'fail'}">95% ${sig95?'‚úì':'‚úó'}</span><span class="badge ${sig99?'pass':'fail'}">99% ${sig99?'‚úì':'‚úó'}</span></div>`;
}
document.getElementById('stats').innerHTML=`
<div class="stat"><div class="val" style="color:#818cf8">${(pA*100).toFixed(2)}%</div><div class="lbl">Conv. Rate A</div></div>
<div class="stat"><div class="val" style="color:#c084fc">${(pB*100).toFixed(2)}%</div><div class="lbl">Conv. Rate B</div></div>
<div class="stat"><div class="val">${Math.abs(z).toFixed(3)}</div><div class="lbl">Z-Score</div></div>
<div class="stat"><div class="val">${(pVal*100).toFixed(2)}%</div><div class="lbl">P-Value</div></div>`;
const max=Math.max(pA,pB)*100;
document.getElementById('chart').innerHTML=`
<div class="bar-row"><span class="bar-label">Variant A</span><div class="bar-track"><div class="bar-fill bar-a" style="width:${(pA*100/max*100).toFixed(1)}%">${(pA*100).toFixed(2)}%</div></div></div>
<div class="bar-row"><span class="bar-label">Variant B</span><div class="bar-track"><div class="bar-fill bar-b" style="width:${(pB*100/max*100).toFixed(1)}%">${(pB*100).toFixed(2)}%</div></div></div>`;
document.getElementById('results').style.display='block';
}
calculate();
</script>
</body>
</html>
