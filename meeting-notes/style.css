*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#0f1117;--surface:#1a1d27;--surface2:#242836;--border:#2e3347;--accent:#6c63ff;--accent2:#8b83ff;--green:#34d399;--yellow:#fbbf24;--red:#f87171;--text:#e2e8f0;--text2:#94a3b8;--text3:#64748b;--radius:10px;--shadow:0 4px 24px rgba(0,0,0,.4)}
html{font-size:15px;scroll-behavior:smooth}
body{font-family:'Inter',system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;line-height:1.6}
a{color:var(--accent2);text-decoration:none}
a:hover{text-decoration:underline}

/* CTA Banner */
.cta-banner{background:linear-gradient(135deg,var(--accent),#4f46e5);text-align:center;padding:10px 16px;font-size:.85rem;font-weight:500;letter-spacing:.3px;position:sticky;top:0;z-index:100}
.cta-banner a{color:#fff;font-weight:700}

/* Layout */
.app{max-width:1100px;margin:0 auto;padding:20px 16px 60px}
header{text-align:center;margin-bottom:28px}
header h1{font-size:1.8rem;font-weight:800;background:linear-gradient(135deg,var(--accent2),var(--green));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
header p{color:var(--text2);font-size:.9rem;margin-top:4px}

/* Cards */
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px;margin-bottom:16px}
.card h2{font-size:1rem;font-weight:700;margin-bottom:14px;display:flex;align-items:center;gap:8px}
.card h2 .icon{font-size:1.1rem}

/* Form */
.meta-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:14px}
label{display:block;font-size:.78rem;font-weight:600;color:var(--text2);margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}
input,textarea,select{width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:10px 12px;color:var(--text);font-size:.9rem;font-family:inherit;transition:border .2s}
input:focus,textarea:focus,select:focus{outline:none;border-color:var(--accent)}
textarea{resize:vertical;min-height:220px;line-height:1.7}

/* Buttons */
.btn{display:inline-flex;align-items:center;gap:6px;padding:10px 20px;border:none;border-radius:8px;font-size:.88rem;font-weight:600;cursor:pointer;transition:all .15s;font-family:inherit}
.btn-primary{background:var(--accent);color:#fff}
.btn-primary:hover{background:var(--accent2);transform:translateY(-1px);box-shadow:0 4px 16px rgba(108,99,255,.35)}
.btn-sm{padding:6px 14px;font-size:.8rem}
.btn-ghost{background:transparent;color:var(--text2);border:1px solid var(--border)}
.btn-ghost:hover{border-color:var(--accent);color:var(--accent2)}
.btn-green{background:var(--green);color:#000}
.btn-green:hover{filter:brightness(1.1)}
.actions-bar{display:flex;flex-wrap:wrap;gap:8px;margin-top:14px}

/* Toggle */
.toggle-row{display:flex;align-items:center;gap:10px;margin-top:10px;font-size:.85rem;color:var(--text2)}
.toggle{position:relative;width:40px;height:22px;flex-shrink:0}
.toggle input{opacity:0;width:0;height:0}
.toggle .slider{position:absolute;inset:0;background:var(--border);border-radius:22px;cursor:pointer;transition:.2s}
.toggle .slider::before{content:'';position:absolute;height:16px;width:16px;left:3px;bottom:3px;background:#fff;border-radius:50%;transition:.2s}
.toggle input:checked+.slider{background:var(--accent)}
.toggle input:checked+.slider::before{transform:translateX(18px)}

/* OpenAI config */
.api-config{margin-top:10px;display:none;gap:8px}
.api-config.show{display:flex;flex-wrap:wrap}
.api-config input{max-width:340px}

/* Results */
.results{display:none}
.results.show{display:block}
.section{margin-bottom:18px}
.section h3{font-size:.88rem;font-weight:700;color:var(--accent2);margin-bottom:8px;display:flex;align-items:center;gap:6px}
.section ul{list-style:none;padding:0}
.section li{padding:6px 0;border-bottom:1px solid var(--border);font-size:.9rem;display:flex;gap:8px;align-items:flex-start}
.section li:last-child{border-bottom:none}
.section li .bullet{color:var(--accent);font-weight:700;flex-shrink:0}
.section p{font-size:.9rem;color:var(--text);line-height:1.7}
.tag{display:inline-block;background:var(--surface2);border:1px solid var(--border);border-radius:20px;padding:2px 10px;font-size:.75rem;margin:2px;color:var(--text2)}
.tag-person{border-color:var(--accent);color:var(--accent2)}
.tag-date{border-color:var(--yellow);color:var(--yellow)}
.summary-text{background:var(--surface2);border-radius:8px;padding:14px;white-space:pre-wrap;font-size:.85rem;line-height:1.7;max-height:400px;overflow-y:auto}

/* History sidebar */
.history-list{max-height:300px;overflow-y:auto}
.history-item{padding:10px;border-radius:8px;cursor:pointer;transition:background .15s;border-bottom:1px solid var(--border)}
.history-item:hover{background:var(--surface2)}
.history-item .h-title{font-weight:600;font-size:.88rem}
.history-item .h-date{font-size:.75rem;color:var(--text3)}
.history-item .h-preview{font-size:.78rem;color:var(--text2);margin-top:2px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.history-empty{color:var(--text3);font-size:.85rem;text-align:center;padding:20px 0}
.history-actions{display:flex;gap:6px;margin-top:10px}

/* Toast */
.toast{position:fixed;bottom:24px;right:24px;background:var(--green);color:#000;padding:10px 20px;border-radius:8px;font-weight:600;font-size:.85rem;transform:translateY(80px);opacity:0;transition:all .3s;z-index:999}
.toast.show{transform:translateY(0);opacity:1}

/* Loading */
.loader{display:inline-block;width:18px;height:18px;border:2px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:spin .6s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* Grid layout */
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
@media(max-width:768px){
  .meta-grid,.grid-2{grid-template-columns:1fr}
  .app{padding:12px 10px 40px}
  header h1{font-size:1.4rem}
  textarea{min-height:160px}
}
