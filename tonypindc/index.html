<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TONE CHECK ‚Äî How well do you know Tony P?</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#1a1a2e;--bg2:#16213e;--bg3:#0f3460;--gold:#ffc800;--gold2:#ffb700;--white:#f0f0f0;--gray:#8892a4;--green:#4ade80;--red:#f87171;--pink:#f472b6}
body{font-family:'Segoe UI',system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--white);min-height:100vh;overflow-x:hidden}
.container{max-width:600px;margin:0 auto;padding:16px}
button{cursor:pointer;font-family:inherit;border:none;outline:none}
.btn{background:var(--gold);color:var(--bg);font-weight:700;font-size:1.1rem;padding:14px 28px;border-radius:14px;width:100%;transition:all .2s;touch-action:manipulation}
.btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(255,200,0,.3)}
.btn:active{transform:scale(.97)}
.btn-outline{background:transparent;border:2px solid var(--gold);color:var(--gold)}
.btn-outline:hover{background:var(--gold);color:var(--bg)}
.btn-sm{padding:10px 20px;font-size:.95rem;width:auto;display:inline-block}
.btn-back{background:rgba(255,255,255,.08);color:var(--gray);font-size:.9rem;padding:10px 18px;border-radius:10px;margin-bottom:16px}
.btn-back:hover{background:rgba(255,255,255,.15);color:var(--white)}

/* Hero */
.hero{text-align:center;padding:40px 0 20px}
.hero h1{font-size:3rem;font-weight:900;background:linear-gradient(135deg,var(--gold),#ff8c00);-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:2px}
.hero .tagline{color:var(--gray);font-size:1.1rem;margin-top:8px}
.hero .catchphrase{color:var(--gold);font-size:.85rem;margin-top:12px;font-style:italic;min-height:20px;transition:opacity .3s}

/* Cards */
.game-grid{display:flex;flex-direction:column;gap:14px;margin-top:20px}
.game-card{background:linear-gradient(135deg,var(--bg2),var(--bg3));border:1px solid rgba(255,200,0,.15);border-radius:16px;padding:20px;display:flex;align-items:center;gap:16px;transition:all .25s;cursor:pointer}
.game-card:hover{border-color:var(--gold);transform:translateY(-3px);box-shadow:0 8px 30px rgba(255,200,0,.1)}
.game-card .icon{font-size:2.2rem;min-width:50px;text-align:center}
.game-card h3{font-size:1.05rem;color:var(--white);margin-bottom:2px}
.game-card p{font-size:.82rem;color:var(--gray);line-height:1.3}

/* Screens */
.screen{display:none;animation:fadeIn .35s ease}
.screen.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-6px)}75%{transform:translateX(6px)}}

/* Progress */
.progress-bar{height:6px;background:rgba(255,255,255,.1);border-radius:3px;margin-bottom:16px;overflow:hidden}
.progress-fill{height:100%;background:var(--gold);border-radius:3px;transition:width .4s ease}

/* Trivia */
.timer-ring{width:54px;height:54px;border-radius:50%;border:4px solid var(--gold);display:flex;align-items:center;justify-content:center;font-size:1.3rem;font-weight:800;margin:0 auto 14px;transition:border-color .3s}
.timer-ring.danger{border-color:var(--red);color:var(--red);animation:pulse .5s infinite}
.question-text{font-size:1.15rem;font-weight:600;text-align:center;margin-bottom:20px;line-height:1.4}
.options{display:flex;flex-direction:column;gap:10px}
.option-btn{background:rgba(255,255,255,.06);border:2px solid rgba(255,255,255,.12);color:var(--white);padding:14px 18px;border-radius:12px;font-size:1rem;text-align:left;transition:all .2s}
.option-btn:hover{border-color:var(--gold);background:rgba(255,200,0,.08)}
.option-btn.correct{border-color:var(--green);background:rgba(74,222,128,.15);color:var(--green)}
.option-btn.wrong{border-color:var(--red);background:rgba(248,113,113,.15);color:var(--red)}
.option-btn.disabled{pointer-events:none}
.streak{text-align:center;color:var(--gold);font-weight:700;font-size:.95rem;margin-bottom:10px}
.context-box{background:rgba(255,200,0,.08);border-left:3px solid var(--gold);padding:12px 16px;border-radius:0 10px 10px 0;margin-top:16px;font-size:.9rem;color:var(--gray);line-height:1.4}

/* Quiz */
.quiz-q{font-size:1.05rem;font-weight:600;margin-bottom:16px;text-align:center}
.quiz-options{display:flex;flex-direction:column;gap:10px}
.quiz-opt{background:rgba(255,255,255,.06);border:2px solid rgba(255,255,255,.12);color:var(--white);padding:14px;border-radius:12px;font-size:.95rem;text-align:left;transition:all .2s}
.quiz-opt:hover{border-color:var(--gold)}
.quiz-opt.selected{border-color:var(--gold);background:rgba(255,200,0,.12)}

/* Slider */
.slider-wrap{margin:20px 0}
.slider-wrap input[type=range]{width:100%;-webkit-appearance:none;background:rgba(255,255,255,.1);height:8px;border-radius:4px;outline:none}
.slider-wrap input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:28px;height:28px;border-radius:50%;background:var(--gold);cursor:pointer}
.slider-val{text-align:center;font-size:2rem;font-weight:800;color:var(--gold);margin:10px 0}

/* Flashcard */
.flashcard{background:linear-gradient(135deg,var(--bg2),var(--bg3));border:2px solid rgba(255,200,0,.2);border-radius:20px;padding:30px;text-align:center;min-height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .3s;perspective:1000px}
.flashcard:hover{border-color:var(--gold)}
.flashcard .spanish{font-size:1.6rem;font-weight:700;color:var(--gold)}
.flashcard .english{font-size:1.2rem;color:var(--white);margin-top:12px}
.flashcard .hint{font-size:.85rem;color:var(--gray);margin-top:8px;font-style:italic}
.fc-options{display:flex;flex-direction:column;gap:8px;margin-top:16px}
.fc-opt{background:rgba(255,255,255,.06);border:2px solid rgba(255,255,255,.12);color:var(--white);padding:12px;border-radius:10px;font-size:.95rem;transition:all .2s}
.fc-opt:hover{border-color:var(--gold)}
.fc-opt.correct{border-color:var(--green);background:rgba(74,222,128,.15)}
.fc-opt.wrong{border-color:var(--red);background:rgba(248,113,113,.15)}

/* Results */
.result-card{background:linear-gradient(135deg,var(--bg2),var(--bg3));border:2px solid var(--gold);border-radius:20px;padding:30px;text-align:center;margin:20px 0}
.result-card .score-big{font-size:3.5rem;font-weight:900;color:var(--gold)}
.result-card .score-label{font-size:1.1rem;color:var(--gray);margin-top:4px}
.result-card .result-msg{font-size:1rem;margin-top:14px;line-height:1.5;color:var(--white)}
.share-btn{margin-top:16px}

/* Fit */
.fit-desc{background:rgba(255,200,0,.06);border-radius:14px;padding:20px;text-align:center;margin-bottom:16px}
.fit-desc .outfit-name{font-size:1.2rem;font-weight:700;color:var(--gold);margin-bottom:6px}
.fit-desc .outfit-detail{color:var(--gray);font-size:.9rem;line-height:1.4}
.fit-compare{display:flex;justify-content:space-around;margin:16px 0;text-align:center}
.fit-compare div span{display:block;font-size:2rem;font-weight:800}
.fit-compare .yours{color:var(--gold)}
.fit-compare .community{color:var(--pink)}
.era-btns{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.era-btn{background:rgba(255,255,255,.06);border:2px solid rgba(255,255,255,.12);color:var(--white);padding:12px;border-radius:12px;font-size:.9rem;font-weight:600;transition:all .2s}
.era-btn:hover{border-color:var(--gold)}
.era-btn.correct{border-color:var(--green);background:rgba(74,222,128,.15)}
.era-btn.wrong{border-color:var(--red);background:rgba(248,113,113,.15)}

/* Meme gen */
.meme-output{font-size:1.4rem;font-weight:700;text-align:center;color:var(--gold);margin:20px 0;min-height:40px}
.meme-input{width:100%;padding:14px;border-radius:12px;border:2px solid rgba(255,200,0,.3);background:rgba(255,255,255,.06);color:var(--white);font-size:1rem;font-family:inherit;text-align:center;margin-bottom:12px}
.meme-input::placeholder{color:var(--gray)}
.meme-input:focus{outline:none;border-color:var(--gold)}
.meme-wall{display:flex;flex-wrap:wrap;gap:8px;margin-top:16px}
.meme-wall .chip{background:rgba(255,200,0,.1);border:1px solid rgba(255,200,0,.2);color:var(--gold);padding:6px 12px;border-radius:20px;font-size:.8rem;cursor:pointer;transition:all .2s}
.meme-wall .chip:hover{background:rgba(255,200,0,.2)}

/* WouldTonyWear */
.wtw-btns{display:flex;gap:12px;margin-top:16px}
.wtw-btns .btn{flex:1}
.wtw-yes{background:var(--green);color:#000}
.wtw-no{background:var(--red);color:#fff}

/* Tabs */
.tab-bar{display:flex;gap:8px;margin-bottom:16px;overflow-x:auto;padding-bottom:4px}
.tab{background:rgba(255,255,255,.06);color:var(--gray);padding:8px 16px;border-radius:20px;font-size:.85rem;font-weight:600;white-space:nowrap;transition:all .2s}
.tab:hover{color:var(--white)}
.tab.active{background:var(--gold);color:var(--bg)}

/* Confetti */
.confetti-container{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999;overflow:hidden}
.confetti-piece{position:absolute;width:10px;height:10px;top:-10px;animation:confettiFall 3s linear forwards}
@keyframes confettiFall{to{top:110vh;transform:rotate(720deg) translateX(100px)}}

/* Toast */
.toast{position:fixed;bottom:30px;left:50%;transform:translateX(-50%);background:var(--gold);color:var(--bg);padding:12px 24px;border-radius:12px;font-weight:700;font-size:.95rem;z-index:9999;animation:toastIn .3s ease}
@keyframes toastIn{from{opacity:0;transform:translateX(-50%) translateY(20px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}

/* Easter egg */
.easter-egg{position:fixed;bottom:80px;left:50%;transform:translateX(-50%);background:rgba(255,200,0,.95);color:var(--bg);padding:14px 24px;border-radius:14px;font-weight:700;font-size:.9rem;z-index:9998;animation:toastIn .3s ease;max-width:90%;text-align:center}
</style>
</head>
<body>
<div class="container" id="app">

<!-- HOME -->
<div class="screen active" id="screen-home">
<div class="hero">
<h1>üé§ TONE CHECK</h1>
<p class="tagline">How well do you know Tony P?</p>
<p class="catchphrase" id="catchphrase"></p>
</div>
<div class="game-grid">
<div class="game-card" onclick="startTrivia()"><div class="icon">üß†</div><div><h3>Tony P Trivia</h3><p>40 questions ‚Ä¢ Easy to Hard ‚Ä¢ 15s timer</p></div></div>
<div class="game-card" onclick="startFit()"><div class="icon">üëî</div><div><h3>Rate Tony's Fit</h3><p>Rate outfits ‚Ä¢ Match the era ‚Ä¢ Would Tony wear it?</p></div></div>
<div class="game-card" onclick="startDating()"><div class="icon">üíõ</div><div><h3>Would Tony Date You?</h3><p>15-question personality quiz ‚Ä¢ Match percentage</p></div></div>
<div class="game-card" onclick="startCaption()"><div class="icon">‚úçÔ∏è</div><div><h3>Complete the Caption</h3><p>Finish Tony's real Instagram captions</p></div></div>
<div class="game-card" onclick="startSpanish()"><div class="icon">üá™üá∏</div><div><h3>Spanish with Tony</h3><p>20 flashcards ‚Ä¢ Inspired by Bad Bunny</p></div></div>
<div class="game-card" onclick="startMeme()"><div class="icon">üòÇ</div><div><h3>The P Stands For...</h3><p>Meme generator + catchphrase randomizer</p></div></div>
</div>
<p style="text-align:center;color:var(--gray);font-size:.75rem;margin-top:30px">Made with ‚ù§Ô∏è and Reasonably Positive energy</p>
</div>

<!-- TRIVIA -->
<div class="screen" id="screen-trivia">
<button class="btn-back" onclick="goHome()">‚Üê Back</button>
<div class="progress-bar"><div class="progress-fill" id="trivia-progress"></div></div>
<div class="streak" id="trivia-streak"></div>
<div class="timer-ring" id="trivia-timer">15</div>
<div class="question-text" id="trivia-question"></div>
<div class="options" id="trivia-options"></div>
<div class="context-box" id="trivia-context" style="display:none"></div>
<button class="btn" id="trivia-next" style="display:none;margin-top:16px" onclick="nextTrivia()">Next Question ‚Üí</button>
</div>

<!-- TRIVIA RESULT -->
<div class="screen" id="screen-trivia-result">
<button class="btn-back" onclick="goHome()">‚Üê Home</button>
<div class="result-card">
<div class="score-big" id="trivia-score-big"></div>
<div class="score-label" id="trivia-score-label"></div>
<div class="result-msg" id="trivia-result-msg"></div>
</div>
<button class="btn share-btn" onclick="shareResult('trivia')">üìã Copy Result</button>
<button class="btn btn-outline" style="margin-top:10px" onclick="startTrivia()">üîÑ Play Again</button>
<button class="btn btn-outline" style="margin-top:10px" onclick="goHome()">‚Üê Home</button>
</div>

<!-- FIT CHECK -->
<div class="screen" id="screen-fit">
<button class="btn-back" onclick="goHome()">‚Üê Back</button>
<div class="tab-bar">
<button class="tab active" onclick="fitTab('rate')">Rate the Fit</button>
<button class="tab" onclick="fitTab('wtw')">Would Tony Wear?</button>
<button class="tab" onclick="fitTab('era')">Match the Era</button>
</div>
<div id="fit-rate"></div>
<div id="fit-wtw" style="display:none"></div>
<div id="fit-era" style="display:none"></div>
</div>

<!-- DATING QUIZ -->
<div class="screen" id="screen-dating">
<button class="btn-back" onclick="goHome()">‚Üê Back</button>
<div class="progress-bar"><div class="progress-fill" id="dating-progress"></div></div>
<div class="quiz-q" id="dating-question"></div>
<div class="quiz-options" id="dating-options"></div>
</div>

<!-- DATING RESULT -->
<div class="screen" id="screen-dating-result">
<button class="btn-back" onclick="goHome()">‚Üê Home</button>
<div class="result-card">
<div class="score-big" id="dating-score-big"></div>
<div class="score-label">compatibility with Tony P</div>
<div class="result-msg" id="dating-result-msg"></div>
</div>
<button class="btn share-btn" onclick="shareResult('dating')">üìã Share Result</button>
<button class="btn btn-outline" style="margin-top:10px" onclick="startDating()">üîÑ Retake Quiz</button>
<button class="btn btn-outline" style="margin-top:10px" onclick="goHome()">‚Üê Home</button>
</div>

<!-- CAPTION -->
<div class="screen" id="screen-caption">
<button class="btn-back" onclick="goHome()">‚Üê Back</button>
<div class="progress-bar"><div class="progress-fill" id="caption-progress"></div></div>
<div class="question-text" id="caption-prompt"></div>
<div class="options" id="caption-options"></div>
<div class="context-box" id="caption-context" style="display:none"></div>
<button class="btn" id="caption-next" style="display:none;margin-top:16px" onclick="nextCaption()">Next ‚Üí</button>
</div>

<!-- CAPTION RESULT -->
<div class="screen" id="screen-caption-result">
<button class="btn-back" onclick="goHome()">‚Üê Home</button>
<div class="result-card">
<div class="score-big" id="caption-score-big"></div>
<div class="score-label">captions completed</div>
<div class="result-msg" id="caption-result-msg"></div>
</div>
<button class="btn share-btn" onclick="shareResult('caption')">üìã Copy Result</button>
<button class="btn btn-outline" style="margin-top:10px" onclick="startCaption()">üîÑ Play Again</button>
<button class="btn btn-outline" style="margin-top:10px" onclick="goHome()">‚Üê Home</button>
</div>

<!-- SPANISH -->
<div class="screen" id="screen-spanish">
<button class="btn-back" onclick="goHome()">‚Üê Back</button>
<div class="progress-bar"><div class="progress-fill" id="spanish-progress"></div></div>
<div id="spanish-score-display" style="text-align:center;color:var(--gold);font-weight:700;margin-bottom:12px"></div>
<div class="flashcard" id="spanish-card">
<div class="spanish" id="spanish-phrase"></div>
<div class="hint" id="spanish-hint"></div>
</div>
<div class="fc-options" id="spanish-options"></div>
<button class="btn" id="spanish-next" style="display:none;margin-top:16px" onclick="nextSpanish()">Next Card ‚Üí</button>
</div>

<!-- SPANISH RESULT -->
<div class="screen" id="screen-spanish-result">
<button class="btn-back" onclick="goHome()">‚Üê Home</button>
<div class="result-card">
<div class="score-big" id="spanish-score-big"></div>
<div class="score-label">Spanish phrases mastered</div>
<div class="result-msg" id="spanish-result-msg"></div>
</div>
<button class="btn share-btn" onclick="shareResult('spanish')">üìã Copy Result</button>
<button class="btn btn-outline" style="margin-top:10px" onclick="startSpanish()">üîÑ Practice Again</button>
<button class="btn btn-outline" style="margin-top:10px" onclick="goHome()">‚Üê Home</button>
</div>

<!-- MEME GEN -->
<div class="screen" id="screen-meme">
<button class="btn-back" onclick="goHome()">‚Üê Back</button>
<h2 style="text-align:center;margin-bottom:20px">üòÇ Tony P and the P stands for...</h2>
<div class="meme-output" id="meme-display">Tony P and the P stands for ___</div>
<input class="meme-input" id="meme-input" placeholder="Type your P stands for..." maxlength="80">
<button class="btn" onclick="generateMeme()" style="margin-bottom:12px">‚ú® Generate</button>
<button class="btn btn-outline" onclick="randomMeme()">üé≤ Random Community Meme</button>
<div class="meme-wall" id="meme-wall" style="margin-top:20px"></div>
<hr style="border:1px solid rgba(255,255,255,.08);margin:30px 0">
<h3 style="text-align:center;margin-bottom:14px">üé§ Catchphrase Randomizer</h3>
<div class="meme-output" id="catchphrase-display" style="font-size:1.1rem"></div>
<button class="btn btn-outline" onclick="randomCatchphrase()">üîÄ Random Catchphrase</button>
</div>

</div>

<script>
// ===== DATA =====
const triviaQuestions = [
{q:"What city does Tony P live in?",a:"Washington, D.C.",o:["New York City","Washington, D.C.","Boston, MA","Los Angeles"],ctx:"Tone is a DC guy through and through üèõÔ∏è",d:"easy"},
{q:"What city is Tony P originally from?",a:"Boston, MA",o:["Philadelphia","Washington, D.C.","Boston, MA","Chicago"],ctx:"The Boston accent slips out sometimes! ü¶û",d:"easy"},
{q:"What is Tony P's brand/tagline?",a:"Reasonably Positive",o:["Unreasonably Handsome","Reasonably Positive","Vibrantly Masculine","Positively Reasonable"],ctx:"The most Tone tagline ever üòä",d:"easy"},
{q:"Approx how many Instagram followers does Tony have?",a:"186K",o:["50K","186K","500K","1M"],ctx:"Peaked 200K+, dipped to 186K ‚Äî the fans track everything",d:"easy"},
{q:"What does everyone call Tony in the comments?",a:"Tone",o:["T-Money","Tone","TP","Antonio"],ctx:"It's always been Tone. Always will be.",d:"easy"},
{q:"What is Tony's ethnicity?",a:"Half-Italian, half-Irish",o:["Half-Italian, half-Irish","Full Italian","Irish-American","Portuguese-American"],ctx:"The best combo for a Boston guy üçù‚òòÔ∏è",d:"easy"},
{q:"Is Tony currently single?",a:"No ‚Äî he's a 'taken bachelor'",o:["Yes, very single","No ‚Äî he's a 'taken bachelor'","It's complicated","Engaged"],ctx:"The 'taken bachelor' era is upon us üíõ",d:"easy"},
{q:"What language is Tony currently learning?",a:"Spanish",o:["Italian","French","Spanish","Portuguese"],ctx:"Gracias, Bad Bunny üê∞",d:"easy"},
{q:"What artist inspired Tony to learn Spanish?",a:"Bad Bunny",o:["Shakira","Bad Bunny","Rosal√≠a","J Balvin"],ctx:"The Bad Bunny pipeline is real üáµüá∑",d:"easy"},
{q:"What app does Tony use to learn Spanish?",a:"Duolingo",o:["Babbel","Rosetta Stone","Duolingo","Busuu"],ctx:"That green owl has Tony in a chokehold ü¶â",d:"easy"},
{q:"What was Tony's career before becoming a creator?",a:"Management consultant",o:["Investment banker","Management consultant","Lawyer","Real estate agent"],ctx:"From consulting to content ‚Äî what a pivot",d:"medium"},
{q:"What talk show host does Tony aspire to be like?",a:"Ryan Seacrest",o:["Jimmy Fallon","Ryan Seacrest","Jimmy Kimmel","Stephen Colbert"],ctx:"Also Regis Philbin! Tone has taste üé§",d:"medium"},
{q:"What news station does Tony do segments on?",a:"Local Fox News",o:["CNN","MSNBC","Local Fox News","ABC News"],ctx:"Broadcasting Tone is the best era üì∫",d:"medium"},
{q:"What is Tony's term for his style of masculinity?",a:"Vibrant masculinity",o:["Toxic masculinity","Vibrant masculinity","Gentle masculinity","Modern masculinity"],ctx:"Vibrant masculinity >> everything else üí™",d:"medium"},
{q:"What political candidate did Tony endorse?",a:"Kamala Harris",o:["Joe Biden","Kamala Harris","Pete Buttigieg","Bernie Sanders"],ctx:"He did it on Barstool's The Yak of all places üòÇ",d:"medium"},
{q:"Where did Tony publicly endorse that candidate?",a:"Barstool Sports' The Yak podcast",o:["His Instagram","CNN interview","Barstool Sports' The Yak podcast","TikTok live"],ctx:"The most unexpected endorsement venue ever",d:"medium"},
{q:"What recurring meme do commenters post about Tony?",a:"'The hog' / hog reveal demands",o:["His height","'The hog' / hog reveal demands","His cooking","His accent"],ctx:"The comment section is UNHINGED üêó",d:"medium"},
{q:"What does Tony pretend to do on camera but doesn't actually do?",a:"Drink alcohol",o:["Cook well","Exercise","Drink alcohol","Enjoy his job"],ctx:"It's always Diet Coke in that glass ü•§",d:"medium"},
{q:"What song played on Tony's pinned 'I'm back' video?",a:"New Radicals ‚Äî 'You Get What You Give'",o:["Don't Stop Believin'","New Radicals ‚Äî 'You Get What You Give'","Mr. Brightside","Walking on Sunshine"],ctx:"The perfect comeback anthem üéµ",d:"medium"},
{q:"What comment format is a running meme?",a:"'Tony P and the P stands for ___'",o:["'Tony P more like Tony W'","'Tony P and the P stands for ___'","'Tone check: passed'","'Bachelor alert'"],ctx:"The P stands for... well, everything apparently üòÇ",d:"medium"},
{q:"What was Tony's pinned post about when he returned from hiatus?",a:"'I'm back and here to keep you company'",o:["New brand deal","'I'm back and here to keep you company'","Girlfriend reveal","Career change"],ctx:"487 comments of pure love üòä",d:"hard"},
{q:"Approx how many posts has Tony made (as of Feb 2026)?",a:"1,237",o:["500","1,237","2,500","800"],ctx:"The man is PROLIFIC üì±",d:"hard"},
{q:"What verified commenter wrote 'We are so back baby!' on his return?",a:"zachleonsis",o:["clockoutdc","zachleonsis","drewblueshoes","chef.joe.sasto"],ctx:"DC royalty welcoming Tone back üëë",d:"hard"},
{q:"What is Tony's TikTok bio description of himself?",a:"A golden retriever taking you for a walk",o:["Your favorite bachelor","A golden retriever taking you for a walk","DC's most positive guy","Reasonably Positive creator"],ctx:"It's so accurate it hurts üêï",d:"hard"},
{q:"Which Slate article called Tony 'the nicest man on the internet'?",a:"Dec 17, 2024 profile",o:["Jan 2025 feature","Dec 17, 2024 profile","Nov 2024 review","Feb 2025 article"],ctx:"And honestly? They weren't wrong.",d:"hard"},
{q:"What was the most-liked comment on his pinned post?",a:"'HELL YEAH BUTTON ‚Äî‚Äî‚Äî‚Äî‚Äî->' by samvlessing (1,310 likes)",o:["'We missed you Tone'","'HELL YEAH BUTTON ‚Äî‚Äî‚Äî‚Äî‚Äî->' by samvlessing","'King is back'","'Tony P goated'"],ctx:"1,310 likes on a COMMENT. Legendary.",d:"hard"},
{q:"Why doesn't Tony actually drink?",a:"Family history of addiction ‚Äî mother 21+ years sober",o:["He just doesn't like it","Religious reasons","Family history of addiction ‚Äî mother 21+ years sober","Health/fitness goals"],ctx:"Real and vulnerable. Respect to Tone. ‚ù§Ô∏è",d:"hard"},
{q:"What did Tony order instead of beer meeting the Slate reporter?",a:"Diet Coke",o:["Sparkling water","Diet Coke","Orange juice","Coffee"],ctx:"Diet Coke is Tony's true love ü•§",d:"hard"},
{q:"What do commenters constantly ask Tony to do about his girlfriend?",a:"'Hard launch' (post a photo of her)",o:["Propose","'Hard launch' (post a photo of her)","Break up","Introduce to his mom"],ctx:"The hard launch demands are RELENTLESS üì∏",d:"hard"},
{q:"What is Tony's management company for Instagram?",a:"Motive LA",o:["Creative Artists Agency","Motive LA","Viral Nation","Night Media"],ctx:"The business side of being Tone",d:"hard"},
{q:"What is Tony's management company for TikTok?",a:"CLR Management",o:["CLR Management","Motive LA","UTA","WME"],ctx:"Different platform, different management. Smart.",d:"hard"},
{q:"What are Tony's pronouns listed in his bio?",a:"he/him/his",o:["Not listed","he/him/his","he/him","they/them"],ctx:"King of being straightforward üëë",d:"hard"},
{q:"What food is Tony most associated with cooking?",a:"Salmon with balsamic glaze",o:["Pasta carbonara","Salmon with balsamic glaze","Chicken parm","Steak"],ctx:"The signature dish of a taken bachelor üêü",d:"hard"},
{q:"What comment on the date night cooking video got 3,335 likes?",a:"'Someone's wife is about to have the night of her life'",o:["'Marry me Tone'","'Someone's wife is about to have the night of her life'","'Gordon Ramsay is shaking'","'Chef Tone strikes again'"],ctx:"3,335 likes! The most-liked comment EVER on his page",d:"hard"},
{q:"What clothing item is Tony most known for wearing?",a:"Quarter-zip / blue suits with aviator sunglasses",o:["Hoodies and sneakers","Quarter-zip / blue suits with aviator sunglasses","Leather jackets","Graphic tees"],ctx:"The turquoisest quarter zip lives rent-free in our minds",d:"hard"},
{q:"What convention did Tony attend that surprised followers?",a:"The Democratic National Convention (DNC)",o:["Comic-Con","The Democratic National Convention (DNC)","CES","VidCon"],ctx:"Political Tone was NOT on the bingo card",d:"hard"},
{q:"How many TikTok followers does Tony have?",a:"17.5K",o:["100K","17.5K","500K","50K"],ctx:"Instagram is his main stage for sure üì±",d:"hard"},
{q:"What did Tony call himself before 'taken bachelor'?",a:"Committed bachelor",o:["Proud bachelor","Committed bachelor","Happy bachelor","Forever bachelor"],ctx:"'Day X of asking Tone if he understands what bachelor means' üòÇ",d:"hard"},
{q:"Who runs the 'Day X of asking Tone if he understands what bachelor means' series?",a:"m_scalisi7",o:["chef.joe.sasto","m_scalisi7","zachleonsis","samvlessing"],ctx:"The most dedicated troll in Tone's comments",d:"hard"},
{q:"What American Psycho‚Äìstyle copypasta was posted on his cooking video?",a:"The Huey Lewis 'Hip To Be Square' monologue adapted for Tony",o:["The morning routine monologue","The business card scene","The Huey Lewis 'Hip To Be Square' monologue adapted for Tony","The reservation scene"],ctx:"The comment section is genuinely unhinged and we love it",d:"hard"},
];

const datingQuiz = [
{q:"Your ideal Friday night?",opts:[{t:"Cooking salmon at home üêü",s:10},{t:"Going out drinking üçª",s:2},{t:"Netflix and chill üì∫",s:6},{t:"Working late üíº",s:4}]},
{q:"How do you handle criticism?",opts:[{t:"Stay positive and keep going ‚òÄÔ∏è",s:10},{t:"Fire back immediately üî•",s:2},{t:"Cry in the bathroom üò¢",s:4},{t:"Write a long response üìù",s:6}]},
{q:"Favorite drink?",opts:[{t:"Diet Coke ü•§",s:10},{t:"Craft beer üç∫",s:4},{t:"Red wine üç∑",s:6},{t:"Water üíß",s:5}]},
{q:"Political vibe?",opts:[{t:"Endorse candidates you believe in publicly üó≥Ô∏è",s:10},{t:"Stay quiet about politics ü§ê",s:3},{t:"Post memes only üòÇ",s:5},{t:"Argue in comments üí¨",s:2}]},
{q:"How do you express feelings?",opts:[{t:"Go to therapy and talk openly üß†",s:10},{t:"Keep it inside ü§∑",s:2},{t:"Journal about it üìì",s:7},{t:"Post about it on social media üì±",s:5}]},
{q:"Ideal date activity?",opts:[{t:"Cook dinner together üë®‚Äçüç≥",s:10},{t:"Fancy restaurant üçΩÔ∏è",s:5},{t:"Netflix marathon üì∫",s:4},{t:"Adventure activity üèîÔ∏è",s:6}]},
{q:"What's your accent like?",opts:[{t:"Boston that slips out sometimes ü¶û",s:10},{t:"No accent whatsoever üòê",s:4},{t:"Southern charm ü§†",s:5},{t:"International mystery üåç",s:6}]},
{q:"How do you handle trolls?",opts:[{t:"Laugh it off and keep going üòÇ",s:10},{t:"Clap back HARD üëä",s:2},{t:"Block immediately üö´",s:5},{t:"Ignore completely üò∂",s:6}]},
{q:"Favorite music vibe?",opts:[{t:"New Radicals / Bad Bunny üéµ",s:10},{t:"Country ü§†",s:3},{t:"Classic rock üé∏",s:5},{t:"Lo-fi beats üéß",s:4}]},
{q:"Dream job?",opts:[{t:"Talk show host üé§",s:10},{t:"CEO üíº",s:4},{t:"Travel blogger ‚úàÔ∏è",s:6},{t:"Professional athlete ‚öΩ",s:3}]},
{q:"How do you dress for a date?",opts:[{t:"Quarter-zip and fresh haircut üëî",s:10},{t:"T-shirt is fine üëï",s:2},{t:"Full suit ü§µ",s:6},{t:"Streetwear drip üî•",s:5}]},
{q:"What do you post on social media?",opts:[{t:"Mundane life details with radical sincerity üì±",s:10},{t:"Only highlights and wins ‚ú®",s:4},{t:"Memes exclusively üòÇ",s:5},{t:"Nothing, I'm a lurker üëÄ",s:3}]},
{q:"Favorite seasoning?",opts:[{t:"Salt and pepper with fresh garlic üßÑ",s:10},{t:"Everything bagel seasoning ü•Ø",s:4},{t:"Hot sauce on everything üå∂Ô∏è",s:3},{t:"No seasoning needed üò§",s:1}]},
{q:"What animal are you?",opts:[{t:"Golden retriever üêï",s:10},{t:"Cat üê±",s:4},{t:"Wolf üê∫",s:3},{t:"Sloth ü¶•",s:2}]},
{q:"How do you handle a breakup?",opts:[{t:"Make it a content era üì∏",s:10},{t:"Go silent for months ü§ê",s:4},{t:"Rebound immediately üíÉ",s:3},{t:"Write sad poetry ‚úçÔ∏è",s:5}]},
];

const captions = [
{prompt:"\"I'm back and here to...",correct:"keep you company üòä\"",wrong:["start a podcast\"","sell you something\"","show off my gains\""],ctx:"The pinned return post ‚Äî 7,500 likes of pure love"},
{prompt:"\"If I hope to stick with this, I have to...",correct:"do small things consistently!\"",wrong:["go viral every day\"","hire a tutor\"","move to Spain\""],ctx:"Tony on learning Spanish ‚Äî one Duolingo lesson at a time ü¶â"},
{prompt:"\"No more...",correct:"copy and paste!\"",wrong:["quarter-zips!\"","bachelor life!\"","Diet Coke!\""],ctx:"The Super Bowl logo rant that the internet needed"},
{prompt:"\"The only reason I watched the whole game was to...",correct:"take notes from the announcers!\"",wrong:["see the halftime show!\"","watch the commercials!\"","support my team!\""],ctx:"Broadcasting Tone studying the craft üì∫"},
{prompt:"\"I cooked, enjoyed some music, explored hobbies, met up with friends and...",correct:"learned real history‚Ä¶ Pretty complete weekend!\"",wrong:["still felt lonely\"","forgot to post\"","ran out of salmon\""],ctx:"The most wholesome weekend recap ever"},
{prompt:"\"My favorite part of this broadcasting journey has been learning to...",correct:"interview people...\"",wrong:["read a teleprompter\"","do my own makeup\"","wake up early\""],ctx:"Tony discovering his inner Ryan Seacrest üé§"},
{prompt:"\"The goal every time is to do two things: 1. Don't ask questions with too many parts...",correct:"2. Don't talk too much generally ü§∑üèª\"",wrong:["2. Look good on camera\"","2. Get the ratings up\"","2. Plug my socials\""],ctx:"Honestly great broadcasting advice"},
{prompt:"\"The stadiums we see today...",correct:"still come here for inspiration!\"",wrong:["are way too expensive\"","need better WiFi\"","remind me of high school\""],ctx:"Tony at the Coliseum being cultured üèõÔ∏è"},
{prompt:"\"I guess committed bachelor was a bit confusing for some of us so...",correct:"let's try this one üòÇ\"",wrong:["I'm getting married\"","I'll stop saying it\"","here's a dictionary\""],ctx:"The 'taken bachelor' rebrand ‚Äî 3,700 likes"},
{prompt:"\"I try to look put together on here, mostly to convince myself...",correct:"I made the right call going out on my own...\"",wrong:["I'm a real adult\"","people still watch me\"","I don't miss consulting\""],ctx:"Vulnerable Tone hits different üíõ"},
{prompt:"\"You're not the only one who...",correct:"laughs üòâ\"",wrong:["cooks like this\"","watches this\"","wears quarter-zips\""],ctx:"Date night cooking caption ‚Äî smooth as that balsamic glaze"},
{prompt:"\"Welcome to a week in my life as a...",correct:"26-year-old bachelor\"",wrong:["DC influencer\"","former consultant\"","wannabe chef\""],ctx:"The classic intro we all know and love"},
];

const spanishCards = [
{es:"Bienvenido de vuelta",en:"Welcome back",hint:"What fans said when Tony returned"},
{es:"Soltero comprometido",en:"Committed bachelor",hint:"Tony's old intro"},
{es:"Noche de cita",en:"Date night",hint:"Tony's cooking content vibe"},
{es:"Razonablemente positivo",en:"Reasonably positive",hint:"Tony's brand/tagline"},
{es:"Masculinidad vibrante",en:"Vibrant masculinity",hint:"Tony's philosophy"},
{es:"¬øQu√© estoy haciendo?",en:"What am I doing?",hint:"Tony's entrepreneurial doubt"},
{es:"Presentador de programa",en:"Talk show host",hint:"Tony's dream job"},
{es:"Verificaci√≥n de atuendo",en:"Fit check",hint:"Tony's OG content"},
{es:"Salm√≥n con glaseado bals√°mico",en:"Salmon with balsamic glaze",hint:"Tony's signature dish"},
{es:"Mi novia",en:"My girlfriend",hint:"The 'taken bachelor' era"},
{es:"T√∫ puedes",en:"You can do it",hint:"Fan encouragement in comments"},
{es:"Un golden retriever",en:"A golden retriever",hint:"Tony's TikTok bio"},
{es:"Cocina para uno",en:"Kitchen for one",hint:"Bachelor cooking era"},
{es:"El hombre m√°s amable",en:"The nicest man",hint:"What Slate called Tony"},
{es:"No me rindo",en:"I don't give up",hint:"Tony's resilience"},
{es:"Gafas de aviador",en:"Aviator sunglasses",hint:"Tony's signature accessory"},
{es:"Cuarto zip",en:"Quarter-zip",hint:"Tony's iconic clothing"},
{es:"Lanzamiento duro",en:"Hard launch",hint:"What fans demand about his girlfriend"},
{es:"La secci√≥n de comentarios",en:"The comment section",hint:"Where the real show is"},
{es:"Sal y pimienta",en:"Salt and pepper",hint:"Tony's cooking style"},
];

const fitOutfits = [
{name:"The Turquoisest Quarter Zip",desc:"Vibrant turquoise quarter-zip pullover with khakis and clean white sneakers. Aviator sunglasses on top.",era:"Bachelor",avg:8.2},
{name:"Slate Blue Power Suit",desc:"Perfectly fitted slate-blue suit with a crisp white shirt and subtle patterned tie. Corporate energy radiating.",era:"Corporate",avg:9.1},
{name:"Charcoal Half-Zip Interview Look",desc:"Charcoal half-zip over a collared shirt. The outfit he wore to the Slate interview ‚Äî professional but approachable.",era:"Broadcasting",avg:7.8},
{name:"Date Night Casual",desc:"Well-fitted dark jeans, a blue button-up ('blue when he was feeling fun!'), sleeves rolled to the elbow.",era:"Taken",avg:8.5},
{name:"Fox News Ready",desc:"Fresh navy suit, red tie, pocket square. Camera-ready broadcasting fit for his Fox News segments.",era:"Broadcasting",avg:8.7},
{name:"Secret Service Sunday",desc:"All black everything with those Secret Service-style sunglasses. Looking like he's protecting the president of vibes.",era:"Bachelor",avg:7.5},
{name:"Weekend Golden Retriever",desc:"Quarter-zip (slightly wrinkled), joggers, fresh kicks. Looking like a golden retriever who just got groomed.",era:"Taken",avg:7.2},
{name:"DNC Political Tone",desc:"Sharp charcoal suit, American flag pin, navy tie. The convention outfit nobody saw coming.",era:"Broadcasting",avg:8.0},
{name:"Corporate Catalog Core",desc:"Navy suit, blue striped tie, brown dress shoes. Straight out of a J.Crew management consultant lookbook.",era:"Corporate",avg:6.8},
{name:"Bachelor Fit Check #1",desc:"Slim chinos, tucked-in polo, aviators, fresh haircut. The original fit check energy that started it all.",era:"Bachelor",avg:8.9},
];

const wouldTonyWear = [
{item:"Graphic tee with a meme on it",answer:false},{item:"Turquoise quarter-zip",answer:true},
{item:"Cargo shorts",answer:false},{item:"Aviator sunglasses",answer:true},
{item:"Crocs (even ironically)",answer:false},{item:"Slim-fit blue suit",answer:true},
{item:"Hawaiian shirt",answer:false},{item:"Charcoal half-zip pullover",answer:true},
{item:"Yeezys",answer:false},{item:"Brown dress shoes with a navy suit",answer:true},
{item:"A backwards baseball cap",answer:false},{item:"Crisp white button-up",answer:true},
{item:"Neon green running shoes to dinner",answer:false},{item:"Classic navy tie",answer:true},
{item:"Ed Hardy anything",answer:false},{item:"Pocket square",answer:true},
];

const pStandsFor = [
"Pizza Break üçï","present. Films entire rest of the weekend üìπ","post-college Passion for residential real estate and automobiles üè†",
"probably going to post about this a few times then try the next thing üòÇ","Perfectly Pressed Quarter-Zip üëî","Positive energy only ‚òÄÔ∏è",
"Please hard launch her already üì∏","Podcast incoming üéôÔ∏è","Pretty good salmon üêü","Professional golden retriever üêï",
"Putting the Diet in Diet Coke ü•§","Peak vibrant masculinity üí™","Probably at the DNC üá∫üá∏","Props to the comment section üí¨",
];

const catchphrases = [
"Welcome to a week in my life as a 26-year-old taken bachelor üì±",
"Reasonably Positive ‚òÄÔ∏è","Vibrant masculinity üí™","I'm back and here to keep you company üòä",
"No more copy and paste! üö´","HELL YEAH BUTTON ‚Äî‚Äî‚Äî‚Äî‚Äî-> üî•",
"Someone's wife is about to have the night of her life üòè",
"Bring the camera closer I wanna good look at ya tone üì∏",
"Day 47 of asking Tone if he understands what bachelor means ü§î",
"Does she know she's your girlfriend, Tone? üíÄ",
"I can't wait to meet my new step dad! üë®‚Äçüë¶",
"I followed for the satire but now I'm just an actual fan üòÇ",
"It's like watching LinkedIn üíº","The turquoisest quarter zip üëî",
"Tony P and the P stands for EVERYTHING üòÇ",
];

const easterEggs = [
"üêó THE HOG REMAINS HIDDEN","üíÄ Does she know she's your girlfriend, Tone?",
"ü¶û The Boston accent just slipped out","üêï A golden retriever took you for a walk",
"üì∫ It's like watching LinkedIn but wholesome","üß∏ Nobody talk about the stuffed animals on the bed",
"ü•§ That's a Diet Coke and you know it","üéµ You Get What You Give playing softly...",
];

// ===== STATE =====
let triviaState={idx:0,score:0,streak:0,maxStreak:0,timer:null,timeLeft:15,questions:[]};
let datingState={idx:0,scores:[]};
let captionState={idx:0,score:0,items:[]};
let spanishState={idx:0,score:0,items:[]};
let fitState={idx:0,wtwIdx:0,wtwScore:0,eraIdx:0,eraScore:0};
let lastResult={};

// ===== UTILS =====
function shuffle(a){let b=[...a];for(let i=b.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[b[i],b[j]]=[b[j],b[i]]}return b}
function $(id){return document.getElementById(id)}
function show(id){document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));$(id).classList.add('active');window.scrollTo(0,0)}
function goHome(){if(triviaState.timer)clearInterval(triviaState.timer);show('screen-home')}

function toast(msg){let t=document.createElement('div');t.className='toast';t.textContent=msg;document.body.appendChild(t);setTimeout(()=>t.remove(),2500)}
function triggerEasterEgg(){if(Math.random()<0.08){let e=easterEggs[Math.floor(Math.random()*easterEggs.length)];let el=document.createElement('div');el.className='easter-egg';el.textContent=e;document.body.appendChild(el);setTimeout(()=>el.remove(),3000)}}

function confetti(){let c=document.createElement('div');c.className='confetti-container';for(let i=0;i<60;i++){let p=document.createElement('div');p.className='confetti-piece';p.style.left=Math.random()*100+'%';p.style.background=['#ffc800','#ff6b6b','#4ade80','#60a5fa','#f472b6','#a78bfa'][Math.floor(Math.random()*6)];p.style.animationDelay=Math.random()*2+'s';p.style.animationDuration=(2+Math.random()*2)+'s';p.style.borderRadius=Math.random()>.5?'50%':'0';c.appendChild(p)}document.body.appendChild(c);setTimeout(()=>c.remove(),4000)}

function shareResult(type){let txt='';
if(type==='trivia')txt=`üé§ TONE CHECK: Tony P Trivia\nüß† ${lastResult.score}/${lastResult.total} correct\nüî• Best streak: ${lastResult.streak}\ntonecheck.fun`;
else if(type==='dating')txt=`üé§ TONE CHECK: Would Tony Date Me?\nüíõ ${lastResult.pct}% compatible with Tony P\n${lastResult.msg}\ntonecheck.fun`;
else if(type==='caption')txt=`üé§ TONE CHECK: Complete the Caption\n‚úçÔ∏è ${lastResult.score}/${lastResult.total} captions nailed\ntonecheck.fun`;
else if(type==='spanish')txt=`üé§ TONE CHECK: Spanish with Tony\nüá™üá∏ ${lastResult.score}/${lastResult.total} phrases mastered\ntonecheck.fun`;
navigator.clipboard.writeText(txt).then(()=>toast('Copied to clipboard! üìã')).catch(()=>toast('Could not copy'))}

// ===== CATCHPHRASE ROTATOR =====
let cpIdx=0;
function rotateCatchphrase(){$('catchphrase').style.opacity=0;setTimeout(()=>{$('catchphrase').textContent='"'+catchphrases[cpIdx%catchphrases.length]+'"';$('catchphrase').style.opacity=1;cpIdx++},300)}
rotateCatchphrase();setInterval(rotateCatchphrase,4000);

// ===== TRIVIA =====
function startTrivia(){
triviaState={idx:0,score:0,streak:0,maxStreak:0,timer:null,timeLeft:15,questions:shuffle(triviaQuestions).slice(0,20)};
show('screen-trivia');renderTrivia();triggerEasterEgg()}

function renderTrivia(){
let s=triviaState,q=s.questions[s.idx];
$('trivia-progress').style.width=((s.idx/s.questions.length)*100)+'%';
$('trivia-streak').textContent=s.streak>1?'üî• Streak: '+s.streak:'';
$('trivia-context').style.display='none';$('trivia-next').style.display='none';
$('trivia-question').textContent=q.q;
let opts=shuffle(q.o);
$('trivia-options').innerHTML=opts.map((o,i)=>`<button class="option-btn" onclick="answerTrivia(this,'${o.replace(/'/g,"\\'")}')">${o}</button>`).join('');
s.timeLeft=15;$('trivia-timer').textContent='15';$('trivia-timer').classList.remove('danger');
if(s.timer)clearInterval(s.timer);
s.timer=setInterval(()=>{s.timeLeft--;$('trivia-timer').textContent=s.timeLeft;if(s.timeLeft<=5)$('trivia-timer').classList.add('danger');if(s.timeLeft<=0){clearInterval(s.timer);timeoutTrivia()}},1000)}

function answerTrivia(btn,ans){
let s=triviaState,q=s.questions[s.idx];clearInterval(s.timer);
document.querySelectorAll('.option-btn').forEach(b=>{b.classList.add('disabled');if(b.textContent===q.a)b.classList.add('correct')});
if(ans===q.a){s.score++;s.streak++;s.maxStreak=Math.max(s.maxStreak,s.streak);btn.classList.add('correct')}
else{s.streak=0;btn.classList.add('wrong')}
$('trivia-context').textContent='üí° '+q.ctx;$('trivia-context').style.display='block';$('trivia-next').style.display='block'}

function timeoutTrivia(){
let q=triviaState.questions[triviaState.idx];triviaState.streak=0;
document.querySelectorAll('.option-btn').forEach(b=>{b.classList.add('disabled');if(b.textContent===q.a)b.classList.add('correct')});
$('trivia-context').textContent='‚è∞ Time\'s up! '+q.ctx;$('trivia-context').style.display='block';$('trivia-next').style.display='block'}

function nextTrivia(){
triviaState.idx++;
if(triviaState.idx>=triviaState.questions.length){showTriviaResult();return}
renderTrivia()}

function showTriviaResult(){
let s=triviaState;lastResult={score:s.score,total:s.questions.length,streak:s.maxStreak};
$('trivia-score-big').textContent=s.score+'/'+s.questions.length;
$('trivia-score-label').textContent='correct answers ‚Ä¢ Best streak: '+s.maxStreak;
let pct=s.score/s.questions.length*100;let msg='';
if(pct===100){msg="You ARE Tony P. Or maybe his burner account. üèÜ";confetti()}
else if(pct>=80)msg="You're a certified Tone superfan. Comment section regular for sure. üî•";
else if(pct>=60)msg="Solid knowledge! You've definitely watched a few vlogs. üëç";
else if(pct>=40)msg="You know the basics but need more Tone in your life. üì±";
else msg="Are you sure you follow Tony P? Time for a binge session. üòÖ";
$('trivia-result-msg').textContent=msg;show('screen-trivia-result')}

// ===== DATING QUIZ =====
function startDating(){
datingState={idx:0,scores:[]};show('screen-dating');renderDating();triggerEasterEgg()}

function renderDating(){
let s=datingState,q=datingQuiz[s.idx];
$('dating-progress').style.width=((s.idx/datingQuiz.length)*100)+'%';
$('dating-question').textContent=(s.idx+1)+'/'+datingQuiz.length+': '+q.q;
let opts=shuffle(q.opts);
$('dating-options').innerHTML=opts.map((o,i)=>`<button class="quiz-opt" onclick="answerDating(this,${o.s})">${o.t}</button>`).join('')}

function answerDating(btn,score){
datingState.scores.push(score);
document.querySelectorAll('.quiz-opt').forEach(b=>b.classList.add('disabled'));
btn.classList.add('selected');
setTimeout(()=>{datingState.idx++;if(datingState.idx>=datingQuiz.length){showDatingResult()}else{renderDating()}},600)}

function showDatingResult(){
let total=datingState.scores.reduce((a,b)=>a+b,0);
let pct=Math.round(total/(datingQuiz.length*10)*100);
let msg='';
if(pct>=90){msg="You ARE Tony P. Marry this person immediately. üíç";confetti()}
else if(pct>=70)msg="Tony would 100% cook you salmon on a second date. üêüüíõ";
else if(pct>=50)msg="You'd be great friends. Tony would hype you up in the comments. üôå";
else if(pct>=30)msg="You're more of a comment section troll ‚Äî but Tony loves you anyway. üòÇ";
else msg="You're an Andrew Tate fan and you're in the wrong app. üö™";
lastResult={pct,msg};$('dating-score-big').textContent=pct+'%';$('dating-result-msg').textContent=msg;show('screen-dating-result')}

// ===== CAPTION =====
function startCaption(){
captionState={idx:0,score:0,items:shuffle(captions)};show('screen-caption');renderCaption();triggerEasterEgg()}

function renderCaption(){
let s=captionState,c=s.items[s.idx];
$('caption-progress').style.width=((s.idx/s.items.length)*100)+'%';
$('caption-prompt').textContent=c.prompt;
$('caption-context').style.display='none';$('caption-next').style.display='none';
let opts=shuffle([c.correct,...c.wrong]);
$('caption-options').innerHTML=opts.map(o=>`<button class="option-btn" onclick="answerCaption(this,'${o.replace(/'/g,"\\'")}')">${o}</button>`).join('')}

function answerCaption(btn,ans){
let c=captionState.items[captionState.idx];
document.querySelectorAll('#caption-options .option-btn').forEach(b=>{b.classList.add('disabled');if(b.textContent===c.correct)b.classList.add('correct')});
if(ans===c.correct){captionState.score++;btn.classList.add('correct')}else{btn.classList.add('wrong')}
$('caption-context').textContent='üì∏ '+c.ctx;$('caption-context').style.display='block';$('caption-next').style.display='block'}

function nextCaption(){
captionState.idx++;if(captionState.idx>=captionState.items.length){showCaptionResult();return}renderCaption()}

function showCaptionResult(){
let s=captionState;lastResult={score:s.score,total:s.items.length};
$('caption-score-big').textContent=s.score+'/'+s.items.length;
let pct=s.score/s.items.length*100;
if(pct===100){$('caption-result-msg').textContent="You could ghost-write Tony's captions. Motive LA, hire this person! üèÜ";confetti()}
else if(pct>=75)$('caption-result-msg').textContent="You've been reading every post. Tone would be proud. üì±";
else if(pct>=50)$('caption-result-msg').textContent="Not bad! You clearly scroll the feed. Keep going. üëç";
else $('caption-result-msg').textContent="Time to go back and actually read the captions, not just look at the fits. üëÄ";
show('screen-caption-result')}

// ===== SPANISH =====
function startSpanish(){
spanishState={idx:0,score:0,items:shuffle(spanishCards)};show('screen-spanish');renderSpanish();triggerEasterEgg()}

function renderSpanish(){
let s=spanishState,c=s.items[s.idx];
$('spanish-progress').style.width=((s.idx/s.items.length)*100)+'%';
$('spanish-score-display').textContent='‚úÖ '+s.score+'/'+s.items.length;
$('spanish-phrase').textContent=c.es;$('spanish-hint').textContent='üí° '+c.hint;
$('spanish-next').style.display='none';
let wrong=shuffle(spanishCards.filter(x=>x.en!==c.en)).slice(0,3).map(x=>x.en);
let opts=shuffle([c.en,...wrong]);
$('spanish-options').innerHTML=opts.map(o=>`<button class="fc-opt" onclick="answerSpanish(this,'${o.replace(/'/g,"\\'")}')">${o}</button>`).join('')}

function answerSpanish(btn,ans){
let c=spanishState.items[spanishState.idx];
document.querySelectorAll('.fc-opt').forEach(b=>{b.classList.add('disabled');if(b.textContent===c.en)b.classList.add('correct')});
if(ans===c.en){spanishState.score++;btn.classList.add('correct')}else{btn.classList.add('wrong')}
$('spanish-next').style.display='block'}

function nextSpanish(){
spanishState.idx++;if(spanishState.idx>=spanishState.items.length){showSpanishResult();return}renderSpanish()}

function showSpanishResult(){
let s=spanishState;lastResult={score:s.score,total:s.items.length};
$('spanish-score-big').textContent=s.score+'/'+s.items.length;
let pct=s.score/s.items.length*100;
if(pct===100){$('spanish-result-msg').textContent="¬°Perfecto! Tony's Puerto Rican step-mamacita would be proud. üáµüá∑";confetti()}
else if(pct>=75)$('spanish-result-msg').textContent="¬°Muy bien! You and Tony can practice together. üá™üá∏";
else if(pct>=50)$('spanish-result-msg').textContent="Keep that Duolingo streak going! ü¶â";
else $('spanish-result-msg').textContent="Bad Bunny would not be impressed. More practice needed! üê∞";
show('screen-spanish-result')}

// ===== FIT CHECK =====
function startFit(){fitState={idx:0,wtwIdx:0,wtwScore:0,wtwTotal:0,eraIdx:0,eraScore:0};show('screen-fit');renderFitRate();triggerEasterEgg()}

function fitTab(tab){
document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
event.target.classList.add('active');
$('fit-rate').style.display=tab==='rate'?'block':'none';
$('fit-wtw').style.display=tab==='wtw'?'block':'none';
$('fit-era').style.display=tab==='era'?'block':'none';
if(tab==='rate')renderFitRate();if(tab==='wtw')renderWTW();if(tab==='era')renderEra()}

function renderFitRate(){
let o=fitOutfits[fitState.idx%fitOutfits.length];
$('fit-rate').innerHTML=`
<div class="fit-desc"><div class="outfit-name">${o.name}</div><div class="outfit-detail">${o.desc}</div></div>
<div class="slider-wrap"><div class="slider-val" id="fit-val">5</div><input type="range" min="1" max="10" value="5" oninput="$('fit-val').textContent=this.value"></div>
<button class="btn" onclick="rateFit()">Rate This Fit üëî</button>`}

function rateFit(){
let o=fitOutfits[fitState.idx%fitOutfits.length];
let val=parseInt($('fit-rate').querySelector('input').value);
$('fit-rate').innerHTML=`
<div class="fit-desc"><div class="outfit-name">${o.name}</div><div class="outfit-detail">${o.desc}</div></div>
<div class="fit-compare"><div><span class="yours">${val}/10</span><small style="color:var(--gray)">Your Rating</small></div>
<div><span class="community">${o.avg}/10</span><small style="color:var(--gray)">Community Avg</small></div></div>
<p style="text-align:center;color:var(--gray);margin:12px 0">${Math.abs(val-o.avg)<1.5?'You and the community agree! ü§ù':val>o.avg?'You rated higher than most! üî•':'The community rated this higher! üëÄ'}</p>
<button class="btn" onclick="fitState.idx++;renderFitRate()">Next Outfit ‚Üí</button>`}

function renderWTW(){
let items=shuffle(wouldTonyWear);fitState.wtwItems=items;fitState.wtwIdx=0;fitState.wtwScore=0;fitState.wtwTotal=items.length;showWTWItem()}

function showWTWItem(){
if(fitState.wtwIdx>=fitState.wtwItems.length){
$('fit-wtw').innerHTML=`<div class="result-card"><div class="score-big">${fitState.wtwScore}/${fitState.wtwTotal}</div>
<div class="score-label">Would Tony Wear It?</div>
<div class="result-msg">${fitState.wtwScore===fitState.wtwTotal?'You know Tony\'s closet better than he does! üëî':fitState.wtwScore>fitState.wtwTotal*.7?'Solid style sense! üî•':'More fit checks needed! üëÄ'}</div></div>
<button class="btn" onclick="renderWTW()">üîÑ Play Again</button>`;
if(fitState.wtwScore===fitState.wtwTotal)confetti();return}
let item=fitState.wtwItems[fitState.wtwIdx];
$('fit-wtw').innerHTML=`<div class="fit-desc"><div class="outfit-name">Would Tony Wear This? ü§î</div><div class="outfit-detail" style="font-size:1.1rem;margin-top:8px">${item.item}</div></div>
<div style="text-align:center;color:var(--gray);margin:8px 0">${fitState.wtwIdx+1}/${fitState.wtwTotal}</div>
<div class="wtw-btns"><button class="btn wtw-yes" onclick="answerWTW(true)">‚úÖ Yes</button><button class="btn wtw-no" onclick="answerWTW(false)">‚ùå No</button></div>`}

function answerWTW(ans){
let item=fitState.wtwItems[fitState.wtwIdx];
if(ans===item.answer)fitState.wtwScore++;
fitState.wtwIdx++;showWTWItem()}

function renderEra(){
let items=shuffle(fitOutfits);fitState.eraItems=items;fitState.eraIdx=0;fitState.eraScore=0;showEraItem()}

function showEraItem(){
if(fitState.eraIdx>=fitState.eraItems.length){
$('fit-era').innerHTML=`<div class="result-card"><div class="score-big">${fitState.eraScore}/${fitState.eraItems.length}</div>
<div class="score-label">Eras Matched</div><div class="result-msg">${fitState.eraScore===fitState.eraItems.length?'Tony P fashion historian! üèÜ':'Keep studying the eras! üìö'}</div></div>
<button class="btn" onclick="renderEra()">üîÑ Play Again</button>`;
if(fitState.eraScore===fitState.eraItems.length)confetti();return}
let o=fitState.eraItems[fitState.eraIdx];
$('fit-era').innerHTML=`<div class="fit-desc"><div class="outfit-name">${o.name}</div><div class="outfit-detail">${o.desc}</div></div>
<p style="text-align:center;color:var(--gray);margin:12px 0">Which era is this? ${fitState.eraIdx+1}/${fitState.eraItems.length}</p>
<div class="era-btns">${['Corporate','Bachelor','Broadcasting','Taken'].map(e=>`<button class="era-btn" onclick="answerEra(this,'${e}')">${e}</button>`).join('')}</div>`}

function answerEra(btn,ans){
let o=fitState.eraItems[fitState.eraIdx];
document.querySelectorAll('.era-btn').forEach(b=>{b.style.pointerEvents='none';if(b.textContent===o.era)b.classList.add('correct')});
if(ans===o.era){fitState.eraScore++;btn.classList.add('correct')}else{btn.classList.add('wrong')}
setTimeout(()=>{fitState.eraIdx++;showEraItem()},1000)}

// ===== MEME GEN =====
function startMeme(){show('screen-meme');renderMemeWall();randomCatchphrase();triggerEasterEgg()}

function generateMeme(){
let val=$('meme-input').value.trim();
if(!val){randomMeme();return}
$('meme-display').textContent='Tony P and the P stands for '+val;$('meme-input').value=''}

function randomMeme(){
let m=pStandsFor[Math.floor(Math.random()*pStandsFor.length)];
$('meme-display').textContent='Tony P and the P stands for '+m}

function randomCatchphrase(){
$('catchphrase-display').textContent=catchphrases[Math.floor(Math.random()*catchphrases.length)]}

function renderMemeWall(){
$('meme-wall').innerHTML=pStandsFor.map(m=>`<span class="chip" onclick="$('meme-display').textContent='Tony P and the P stands for ${m.replace(/'/g,"\\'")}'">...${m}</span>`).join('')}
</script>
</body>
</html>
