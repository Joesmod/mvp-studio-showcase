<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ISS Tracker</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',sans-serif;background:#0a0a0f;color:#e0e0e0;overflow:hidden;height:100vh;width:100vw}
#map{width:100%;height:100%;position:absolute;top:0;left:0;z-index:1}
.leaflet-control-attribution{display:none!important}
.panel{position:absolute;top:20px;left:20px;z-index:1000;background:rgba(10,10,15,.92);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:24px;width:320px;max-height:calc(100vh - 40px);overflow-y:auto}
.panel h1{font-size:1.5rem;font-weight:800;background:linear-gradient(135deg,#6366f1,#a855f7,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:4px}
.panel .sub{color:#888;font-size:.85rem;margin-bottom:20px}
.stat{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid rgba(255,255,255,.06)}
.stat-label{color:#888;font-size:.85rem}
.stat-value{font-weight:600;font-size:.95rem;color:#a78bfa}
.crew-title{font-size:1rem;font-weight:700;margin:20px 0 12px;color:#e0e0e0}
.crew-member{display:flex;align-items:center;gap:10px;padding:8px 12px;margin-bottom:6px;background:rgba(255,255,255,.04);border-radius:10px;font-size:.88rem}
.crew-dot{width:8px;height:8px;border-radius:50%;background:#22c55e;flex-shrink:0;animation:pulse-dot 2s infinite}
@keyframes pulse-dot{0%,100%{opacity:1}50%{opacity:.4}}
.crew-craft{margin-left:auto;font-size:.75rem;color:#666;background:rgba(255,255,255,.06);padding:2px 8px;border-radius:8px}
.back{position:absolute;bottom:20px;left:20px;z-index:1000;background:rgba(10,10,15,.85);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:10px 18px;color:#a78bfa;text-decoration:none;font-size:.85rem;font-weight:600;transition:background .2s}
.back:hover{background:rgba(99,102,241,.2)}
.speed-badge{position:absolute;top:20px;right:20px;z-index:1000;background:rgba(10,10,15,.88);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:14px 20px;text-align:center}
.speed-badge .val{font-size:1.6rem;font-weight:800;color:#ec4899}
.speed-badge .lbl{font-size:.7rem;color:#888;text-transform:uppercase;letter-spacing:1px}
@media(max-width:600px){
.panel{width:calc(100% - 40px);max-height:45vh;top:auto;bottom:60px;left:20px}
.speed-badge{top:12px;right:12px;padding:10px 14px}
.speed-badge .val{font-size:1.2rem}
.back{bottom:12px;left:12px}
}
</style>
</head>
<body>
<div id="map"></div>
<div class="panel">
<h1>üõ∞Ô∏è ISS Tracker</h1>
<p class="sub">Live International Space Station position</p>
<div id="stats">
<div class="stat"><span class="stat-label">Latitude</span><span class="stat-value" id="lat">‚Äî</span></div>
<div class="stat"><span class="stat-label">Longitude</span><span class="stat-value" id="lon">‚Äî</span></div>
<div class="stat"><span class="stat-label">Altitude</span><span class="stat-value">~408 km</span></div>
<div class="stat"><span class="stat-label">Speed</span><span class="stat-value">~27,600 km/h</span></div>
<div class="stat"><span class="stat-label">Last Update</span><span class="stat-value" id="time">‚Äî</span></div>
</div>
<div class="crew-title">üë®‚ÄçüöÄ People in Space</div>
<div id="crew"><p style="color:#666;font-size:.85rem">Loading‚Ä¶</p></div>
</div>
<div class="speed-badge">
<div class="val">27,600</div>
<div class="lbl">km/h orbital speed</div>
</div>
<a href="../" class="back">‚Üê Back to Showcase</a>
<script>
const map=L.map('map',{center:[0,0],zoom:2,zoomControl:false,attributionControl:false});
L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png',{maxZoom:18}).addTo(map);

const issIcon=L.divIcon({html:'<div style="font-size:32px;filter:drop-shadow(0 0 10px rgba(168,85,247,.8))">üõ∞Ô∏è</div>',iconSize:[32,32],iconAnchor:[16,16],className:''});
const marker=L.marker([0,0],{icon:issIcon}).addTo(map);
const trail=L.polyline([],{color:'#a855f7',weight:2,opacity:.6,dashArray:'8,8'}).addTo(map);
const trailPoints=[];
let firstLoad=true;

async function updateISS(){
try{
const r=await fetch('http://api.open-notify.org/iss-now.json');
const d=await r.json();
const lat=parseFloat(d.iss_position.latitude);
const lon=parseFloat(d.iss_position.longitude);
marker.setLatLng([lat,lon]);
if(firstLoad){map.setView([lat,lon],3);firstLoad=false}
trailPoints.push([lat,lon]);
if(trailPoints.length>200)trailPoints.shift();
trail.setLatLngs(trailPoints);
document.getElementById('lat').textContent=lat.toFixed(4)+'¬∞';
document.getElementById('lon').textContent=lon.toFixed(4)+'¬∞';
document.getElementById('time').textContent=new Date().toLocaleTimeString();
}catch(e){console.error(e)}
}

async function loadCrew(){
try{
const r=await fetch('http://api.open-notify.org/astros.json');
const d=await r.json();
const el=document.getElementById('crew');
el.innerHTML='';
d.people.forEach(p=>{
el.innerHTML+=`<div class="crew-member"><span class="crew-dot"></span>${p.name}<span class="crew-craft">${p.craft}</span></div>`;
});
}catch(e){document.getElementById('crew').innerHTML='<p style="color:#666;font-size:.85rem">Could not load crew data</p>'}
}

updateISS();
loadCrew();
setInterval(updateISS,5000);
</script>
</body>
</html>
