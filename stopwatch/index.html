<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stopwatch</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',sans-serif;background:#0a0a0f;color:#e0e0e0;min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:40px 20px}
a.back{position:fixed;top:20px;left:20px;color:#888;text-decoration:none;font-size:.9rem;z-index:10;transition:color .2s}
a.back:hover{color:#6366f1}
h1{font-size:1.6rem;font-weight:700;margin-bottom:40px;background:linear-gradient(135deg,#6366f1,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.display{font-size:clamp(3rem,12vw,6rem);font-weight:200;letter-spacing:4px;font-variant-numeric:tabular-nums;margin-bottom:40px;color:#fff;text-shadow:0 0 40px rgba(99,102,241,.3)}
.display .ms{font-size:.5em;color:#a78bfa}
.buttons{display:flex;gap:16px;margin-bottom:40px;flex-wrap:wrap;justify-content:center}
.btn{border:none;border-radius:50%;width:72px;height:72px;font-family:'Inter',sans-serif;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .15s;position:relative;overflow:hidden}
.btn:active{transform:scale(.92)}
.btn::after{content:'';position:absolute;inset:0;background:rgba(255,255,255,.15);border-radius:50%;opacity:0;transition:opacity .2s}
.btn:active::after{opacity:1}
.btn-start{background:#22c55e;color:#fff}
.btn-stop{background:#ef4444;color:#fff}
.btn-lap{background:rgba(99,102,241,.2);color:#a78bfa;border:2px solid rgba(99,102,241,.3)}
.btn-reset{background:rgba(255,255,255,.08);color:#888;border:2px solid rgba(255,255,255,.1)}
.btn:disabled{opacity:.3;cursor:default}
.laps{width:100%;max-width:500px}
.laps h3{font-size:.85rem;color:#666;text-transform:uppercase;letter-spacing:2px;margin-bottom:12px;padding:0 16px}
.lap-list{max-height:400px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:#333 transparent}
.lap{display:flex;justify-content:space-between;padding:12px 16px;border-bottom:1px solid rgba(255,255,255,.06);font-variant-numeric:tabular-nums;font-size:.95rem;animation:fadeIn .3s ease}
@keyframes fadeIn{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
.lap-num{color:#666;width:60px}
.lap-time{color:#e0e0e0;flex:1;text-align:center}
.lap-total{color:#888;flex:1;text-align:right}
.lap.fastest .lap-time{color:#22c55e}
.lap.slowest .lap-time{color:#ef4444}
</style>
</head>
<body>
<a href="../" class="back">‚Üê Showcase</a>
<h1>Stopwatch</h1>
<div class="display" id="display">00:00<span class="ms">.00</span></div>
<div class="buttons">
<button class="btn btn-start" id="startBtn" onclick="start()">Start</button>
<button class="btn btn-stop" id="stopBtn" onclick="stop()" style="display:none">Stop</button>
<button class="btn btn-lap" id="lapBtn" onclick="lap()" disabled>Lap</button>
<button class="btn btn-reset" id="resetBtn" onclick="reset()" disabled>Reset</button>
</div>
<div class="laps" id="lapsSection" style="display:none">
<h3>Laps</h3>
<div class="lap" style="border-bottom:2px solid rgba(255,255,255,.1);font-weight:600;font-size:.8rem;color:#666;animation:none">
<span class="lap-num">#</span><span class="lap-time">Lap Time</span><span class="lap-total">Total</span>
</div>
<div class="lap-list" id="lapList"></div>
</div>
<script>
let startTime=0,elapsed=0,interval=null,running=false,laps=[],lapStart=0;
const display=document.getElementById('display'),lapList=document.getElementById('lapList');
const startBtn=document.getElementById('startBtn'),stopBtn=document.getElementById('stopBtn');
const lapBtn=document.getElementById('lapBtn'),resetBtn=document.getElementById('resetBtn');

function fmt(ms){
  const m=Math.floor(ms/60000),s=Math.floor((ms%60000)/1000),c=Math.floor((ms%1000)/10);
  return`${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}<span class="ms">.${String(c).padStart(2,'0')}</span>`;
}

function update(){elapsed=Date.now()-startTime;display.innerHTML=fmt(elapsed)}

function start(){
  startTime=Date.now()-elapsed;
  if(!lapStart)lapStart=startTime;
  interval=setInterval(update,31);
  running=true;
  startBtn.style.display='none';stopBtn.style.display='';
  lapBtn.disabled=false;resetBtn.disabled=true;
}

function stop(){
  clearInterval(interval);running=false;
  stopBtn.style.display='none';startBtn.style.display='';
  startBtn.textContent='Resume';
  lapBtn.disabled=true;resetBtn.disabled=false;
}

function reset(){
  clearInterval(interval);elapsed=0;running=false;laps=[];lapStart=0;
  display.innerHTML=fmt(0);lapList.innerHTML='';
  document.getElementById('lapsSection').style.display='none';
  startBtn.textContent='Start';startBtn.style.display='';stopBtn.style.display='none';
  lapBtn.disabled=true;resetBtn.disabled=true;
}

function lap(){
  const now=Date.now(),lapTime=now-lapStart,total=elapsed;
  lapStart=now;
  laps.push({lapTime,total});
  renderLaps();
}

function renderLaps(){
  document.getElementById('lapsSection').style.display='';
  if(laps.length<2){lapList.innerHTML=laps.map((l,i)=>`<div class="lap"><span class="lap-num">${laps.length-i}</span><span class="lap-time">${fmtPlain(l.lapTime)}</span><span class="lap-total">${fmtPlain(l.total)}</span></div>`).join('');return}
  const times=laps.map(l=>l.lapTime),min=Math.min(...times),max=Math.max(...times);
  lapList.innerHTML=[...laps].reverse().map((l,i)=>{
    const n=laps.length-i;
    let cls='';if(l.lapTime===min)cls='fastest';else if(l.lapTime===max)cls='slowest';
    return`<div class="lap ${cls}"><span class="lap-num">${n}</span><span class="lap-time">${fmtPlain(l.lapTime)}</span><span class="lap-total">${fmtPlain(l.total)}</span></div>`;
  }).join('');
}

function fmtPlain(ms){
  const m=Math.floor(ms/60000),s=Math.floor((ms%60000)/1000),c=Math.floor((ms%1000)/10);
  return`${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}.${String(c).padStart(2,'0')}`;
}
</script>
</body>
</html>
